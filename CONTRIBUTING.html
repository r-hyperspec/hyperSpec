<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Contributor Guidelines ‚Ä¢ hyperSpec</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet"><meta property="og:title" content="Contributor Guidelines"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-title-body">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">hyperSpec</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.200.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://r-hyperspec.github.io/hyperSpec/" class="external-link">Released</a>
    </li>
    <li>
      <a href="https://r-hyperspec.github.io/hyperSpec/dev/" class="external-link">In-development</a>
    </li>
  </ul></li>
<li>
  <a href="articles/hyperSpec.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="articles/fileio.html">Import and Export Files with Spectra</a>
    </li>
    <li>
      <a href="articles/plotting.html">Plotting Functions in "hyperSpec"</a>
    </li>
    <li>
      <a href="articles/baseline.html">Fitting Baselines to Spectra</a>
    </li>
    <li class="divider">
    <li>
      <a href="articles/index.html">More articles...</a>
    </li>
  </ul></li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-hyperspec/hyperSpec/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Contributor Guidelines</h1>
    </div>

<div id="contributor-guidelines" class="section level1">

<p><span class="emoji" data-emoji="+1">üëç</span><span class="emoji" data-emoji="tada">üéâ</span> First off, thanks for taking the time to contribute! <span class="emoji" data-emoji="tada">üéâ</span><span class="emoji" data-emoji="+1">üëç</span></p>
<p>The following is a set of guidelines for contributing to the <code>R</code> package <code>hyperSpec</code>.</p>
<div class="section level2">
<h2 id="code-licensing">Code Licensing<a class="anchor" aria-label="anchor" href="#code-licensing"></a></h2>
<p>We are in the (slow) process of transitioning the license of the <strong>hyperspec</strong> project to <a href="https://github.com/r-hyperspec/hySpc.skeleton/issues/8" class="external-link">MIT</a>. By contributing, you understand and agree that your work becomes the part of the <strong>hyperSpec</strong> project and you grant permission to the <strong>hyperSpec</strong> project to license your contribution under the <a href="https://github.com/r-hyperspec/hyperSpec/blob/master/LICENSE" class="external-link">GNU GPL v3</a> or a compatible license and/or under the <a href="https://opensource.org/licenses/MIT" class="external-link">MIT license</a> or a compatible license.</p>
</div>
<div class="section level2">
<h2 id="reporting-bugs-and-submitting-suggestions">Reporting Bugs and Submitting Suggestions<a class="anchor" aria-label="anchor" href="#reporting-bugs-and-submitting-suggestions"></a></h2>
<ul><li>Ensure the bug was not already reported by searching on GitHub under <a href="https://github.com/r-hyperspec/hyperSpec/issues" class="external-link">Issues</a>.</li>
<li>If you‚Äôre unable to find an open issue addressing the problem, open a new one. Be sure to include a title and clear description, as much relevant information as possible, and a code sample or an executable test case demonstrating the expected behavior that is not occurring.</li>
<li>Refer to the <a href="https://www.r-project.org/bugs.html" class="external-link">Bug Reporting in R article</a> for guidance.</li>
<li>Include minimal working example of data and code that reproduces the problem.</li>
</ul></div>
<div class="section level2">
<h2 id="color-use-vignettes--perhaps-examples">Color Use (Vignettes &amp; Perhaps Examples)<a class="anchor" aria-label="anchor" href="#color-use-vignettes--perhaps-examples"></a></h2>
<ul><li>There is a built-in colorblind friendly qualitative palette <code>palette_colorblind</code>; please use whenever possible.</li>
<li>These next two palettes are also colorblind-friendly:
<ul><li>For a diverging palette, please use <code>colorspace::diverging_hcl(n, palette = "Blue-Red2")</code>.</li>
<li>For a sequential palette, please use <code>colorspace::sequential_hcl(n, palette = "viridis")</code>.</li>
</ul></li>
</ul></div>
<div class="section level2">
<h2 id="code-and-documentation-style-guide">Code and Documentation Style Guide<a class="anchor" aria-label="anchor" href="#code-and-documentation-style-guide"></a></h2>
<ul><li>This project adheres to the <a href="https://style.tidyverse.org/" class="external-link">Tidyverse styleguide</a>.</li>
<li>This guide applies both to the code and the <a href="https://style.tidyverse.org/documentation.html" class="external-link"><code>roxygen2</code> documentation</a>.<br></li>
<li>The documentation is written in markdown
<ul><li>Whenever touching a function, please take the time to check its documentation. Large parts have been converted automatically from LaTeX, and may still need some manual polishing.</li>
</ul></li>
<li>Use package <a href="http://styler.r-lib.org/" class="external-link">styler</a> with RStudio add-in to easily re-style your code to comply with the guidelines.</li>
<li>When appropriate, prefer this naming scheme for the internal functions ‚Äì <code>.&lt;generic&gt;_&lt;x&gt;&lt;y&gt;&lt;...&gt;</code> with <code>&lt;x&gt;</code>, <code>&lt;y&gt;</code>, etc. the first, second and later parameter/operand:
<ul><li>_ ‚Ä¶ missing</li>
<li>a ‚Ä¶ array</li>
<li>d ‚Ä¶ data frame</li>
<li>f ‚Ä¶ formula</li>
<li>h ‚Ä¶ hyperSpec object</li>
<li>m ‚Ä¶ matrix</li>
<li>n ‚Ä¶ numeric (scalar, vector, or matrix)</li>
</ul></li>
<li>Each new function should be accompanied with appropriate unit tests.</li>
<li>If a unit test needs to be disabled temporarily, please use <code>skip("reason for switching off")</code>. This way, we‚Äôll be reminded that the test is switched off whenever the unit tests are run.</li>
</ul></div>
<div class="section level2">
<h2 id="vignette-style-and-standards">Vignette Style and Standards<a class="anchor" aria-label="anchor" href="#vignette-style-and-standards"></a></h2>
<ul><li>No multi-line sentences (enter/return after each sentence, extra return starts a new paragraph). This facilitates comparison via version control.</li>
<li>Package names in text are written in <strong>bold</strong>.</li>
<li>Package names in section headings are in <strong><em>bold italic</em></strong>.</li>
<li>In section headings main words should be capitalized.</li>
<li>Use the British English variant and corresponding spell checker.</li>
<li>Function names should be written between backticks with the parentheses and followed by a signal to use syntax formatting (not simply for example <code>texttt</code> or <code>code</code> if one was using pure LaTeX), for example <code class="sourceCode r"><span class="fu">fun</span>()</code>. The CSS file controls the exact appearance.</li>
<li>When parts of the <code>hyperSpec</code> objects are mentioned, use the syntax formatting, for instance <code class="sourceCode r"><span class="sc">@</span>data</code>.</li>
<li>When parts of a structure such as a column or list element, use the syntax highlighting, e.g.¬†<code class="sourceCode r"><span class="sc">$</span>something</code>.</li>
<li>Figures should have captions.</li>
<li>Every figure should be mentioned in text via reference. This will give automatic numbering.</li>
<li>Figure and Table should be capitalized when mentioned in text, e.g.¬†Figure 1. Do not use ‚ÄúFig.‚Äù.</li>
<li>Mention of the software <code>R</code> should be formatted with backticks.</li>
<li>Sourced files should make vignette authors‚Äô life easier, and should not contain anything important to end users/readers.</li>
<li>The first code block should start with <code>rm(list = ls())</code> to ensure a clean, reproducible workspace.</li>
<li>NEED TO DISCUSS: formatting of code blocks. Could use <code>tidy = TRUE</code> as one option.</li>
<li>If you need to leave a note in a vignette, please use this <a href="https://github.com/cbeleites/hyperSpec/pull/147#issuecomment-646685392" class="external-link">method</a>.</li>
<li>Figure sizes are largely standardized, via the hook defined in <code>vignette-default-settings.R</code>. See the discussion there.</li>
</ul></div>
<div class="section level2">
<h2 id="working-with-git">Working With Git<a class="anchor" aria-label="anchor" href="#working-with-git"></a></h2>
<div class="section level3">
<h3 id="branches">Branches<a class="anchor" aria-label="anchor" href="#branches"></a></h3>
<p>This project follows the <a href="https://nvie.com/posts/a-successful-git-branching-model/" class="external-link"><code>git flow</code> branching model</a>.</p>
<p><img src="https://nvie.com/img/git-model@2x.png" width="400px"></p>
<div class="section level4">
<h4 id="briefly">Briefly<a class="anchor" aria-label="anchor" href="#briefly"></a></h4>
<p>The branch <code>master</code> contains stable releases that are tested and guaranteed to work. It is not allowed to contribute directly to <code>master</code>.</p>
<p>The branch <code>develop</code> contains latest delivered development changes for the next release. When <code>develop</code> reaches a stable point and is ready to be released, it gets merged to <code>master</code> and tagged with a version number (e.g.¬†‚Äòv0.99.21‚Äô). This procedure is a subject for a strict review.</p>
<p>You <em>should not</em> directly contribute to <code>develop</code>, unless the change is trivial (e.g.¬†a typo). Instead, for any new feature or bugfix, please create a separate supporting branch. We use a default naming convention for them:</p>
<ul><li>
<code>feature/###-&lt;feature_name&gt;</code> for new features. Generally, for a new feature you should open an issue which <em>at least</em> describes the intended feature; it may go further and allow for discussion and refinement before much effort is expended. <code>###</code> is the corresponding <a href="https://github.com/r-hyperspec/hyperSpec/issues" class="external-link">issue number</a>.</li>
<li>
<code>bugfix/###-&lt;bugfix_name&gt;</code> for bugfixes</li>
<li>
<code>release/x.y.z</code> for release preparation, where <code>x.y.z.</code> is the version to be released. See section ‚ÄúRelease process‚Äù below for details.</li>
</ul><p>It is recommended to use the <code>git flow</code> tool to streamline the process (see <a href="https://danielkummer.github.io/git-flow-cheatsheet/" class="external-link">Cheatsheet for git flow</a>). However, do not call <code>git flow xxx finish</code> as it makes a merge <em>without</em> the code review - instead, <a href="https://softwareengineering.stackexchange.com/a/189062/302312" class="external-link">finish your branch by opening a pull request</a>.</p>
<p>Please make sure that the package can be built and and that all checks and unit tests are passed before merging back into <code>develop</code>. The shortcut in RStudio for that is <code>Ctrl</code>+<code>Shift</code>+<code>E</code>.</p>
<p>If you are making a significant change, please also add an entry to <code>NEWS.md</code>.</p>
</div>
<div class="section level4">
<h4 id="wait-what-if-im-not-allowed-to-create-a-branch-in-the-main-repository">Wait, What if I‚Äôm not Allowed to Create a Branch in the Main Repository?<a class="anchor" aria-label="anchor" href="#wait-what-if-im-not-allowed-to-create-a-branch-in-the-main-repository"></a></h4>
<p>If you are not a member of the project then you cannot create a branch in the main repository. But this is not a problem! In this case, you simply fork the main repository, make the changes starting off the <code>develop</code> branch, and merge it back into the <code>develop</code> branch of the main repository via a pull request.</p>
<p>After a successful code review the pull request gets accepted, and your changes are represented in the main repo as a separate branch (in accordance with our guidelines). After that you can delete your fork, if you‚Äôd like.</p>
</div>
</div>
<div class="section level3">
<h3 id="pull-requests">Pull Requests<a class="anchor" aria-label="anchor" href="#pull-requests"></a></h3>
<p>Open a pull request via GitHub interface to let others see your work and review it. It is a collaborative tool, so we encourage you to open a <a href="https://github.blog/2019-02-14-introducing-draft-pull-requests/" class="external-link">‚Äòdraft pull request‚Äô</a> as soon as you start working on your part. This provides a place for the community to discuss your work and correct it as you go. Once your part is completed, change the status to ‚ÄúReady for review‚Äù.</p>
<blockquote>
<p>The project maintainer may want to merge your pull request when your work is usable, even before it is 100% complete. In such a case, the branch must be deleted and a new one created off the <code>develop</code> branch. You can use the same name for it to indicate that this is a continuation. It will be merged, as usual, via a new pull request. This may seem to be an overhead at first glance, but it leads to a faster integration and makes the the pull requests smaller and less overwhelming.</p>
</blockquote>
<p>The merged support branches <a href="https://ardalis.com/why-delete-old-git-branches" class="external-link">should be deleted - they‚Äôre clutter</a>. If you want to keep their name for reference, just apply a <code>git tag</code> after the merge. Never reuse merged branches, <a href="https://stackoverflow.com/a/29319178" class="external-link">it can lead to problems</a>.</p>
</div>
<div class="section level3">
<h3 id="git-commits">Git Commits<a class="anchor" aria-label="anchor" href="#git-commits"></a></h3>
<p>Commit often, try to make small atomic commits. An atomic commit addresses only a small separate fix or change and is more or less self-consistent. Every commit should be related to one feature only, but the commit should group strongly related changes together (e.g.¬†when refactoring to rename a function, all files that are affected by this should be in the same commit).</p>
</div>
<div class="section level3">
<h3 id="commit-messages">Commit Messages<a class="anchor" aria-label="anchor" href="#commit-messages"></a></h3>
<ul><li>Use the present tense (‚ÄúAdd feature‚Äù not ‚ÄúAdded feature‚Äù)</li>
<li>Use the imperative mood (‚ÄúMove cursor to‚Ä¶‚Äù not ‚ÄúMoves cursor to‚Ä¶‚Äù)</li>
<li>Limit the first line to 72 characters or less</li>
<li>Reference issues and pull requests liberally after the first line</li>
<li>Give a high-level description of the what and <em>why</em> of the changes (similar to good code comments) already in the first line</li>
<li>Use the most specialized verb that describes the situation</li>
</ul></div>
</div>
<div class="section level2">
<h2 id="versioning">Versioning<a class="anchor" aria-label="anchor" href="#versioning"></a></h2>
<p>The project adheres to the semantic versioning guidelines, as outlined at <a href="https://semver.org/" class="external-link uri">https://semver.org/</a> (Work in progress, see <a href="https://github.com/cbeleites/hyperSpec/issues/123" class="external-link">#123</a>).</p>
<p>Briefly, the version string has the form <code>x.y.z</code> (or <code>major.minor.patch</code>), where the major number gets incremeted if a release introduces breaking changes, the minor one after any changes in functionality (new features of bugfixes), and the patch number is increased after any trivial change. If a major or minor number is incremented, all subsequent ones are set to zero.</p>
<p>The version numbers refer only to commits in the <code>master</code> branch, and get incremented in one of two cases: * during the release preparation, when a <code>release/x.y.z</code> branch buds off <code>develop</code> and merges into <code>master</code>. * after a hotfix, which also results in a new commit on <code>master</code>. * development branches have version <code>x.x.x.9000</code> (or <code>.9001</code> and so on - but that is rarely needed).<br>
This is important since <strong>pkgdown</strong> uses the <code>.9000</code> to distinguish between documentation for the released version vs.¬†the development version.</p>
<div class="section level3">
<h3 id="release-process">Release Process<a class="anchor" aria-label="anchor" href="#release-process"></a></h3>
<p>The process starts when the package is in a stable state that can be released to CRAN (release candidate). First, decide on a new version number <code>x.y.z</code> based on the severity of changes. Then:</p>
<ul><li>Create a <code>release/x.y.z</code> branch using <code>git flow release start &lt;x.y.z&gt;</code> and push it with <code>git flow publish</code>
</li>
<li>Open a pull request that merges into <code>master</code>
</li>
<li>Update the version number in the <code>DESCRIPTION</code> file</li>
<li>Verify that the changes are listed in <code>NEWS.md</code>
</li>
<li>Confirm that the package can be built for each plaftorm</li>
<li>Ensure that all check are passed on the tarballs you build (either on your machine or using CI) with <code>R CMD check --as-cran &lt;package.tar.gz&gt;</code>. The checks must pass for <code>R</code> versions <code>R-oldrel</code>, <code>R-release</code>, <code>R-patched</code>, and <code>R-devel</code>.</li>
<li>If any bugs are found, they must be fixed in the very same branch (see <a href="https://stackoverflow.com/a/57507373/6029703" class="external-link">here</a> for details)</li>
<li>Once everything works use <code>git flow release finish &lt;x.y.z&gt;</code>. It will merge the release branch into both <code>master</code> and <code>develop</code>, and will assign a tag to the newly created commit in the <code>master</code> branch.</li>
</ul><hr><p>Thanks! <span class="emoji" data-emoji="heart">‚ù§Ô∏è</span></p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>

</div>



      <footer><div class="copyright">
  <p></p><p>Developed by Claudia Beleites, <a href="https://orcid.org/0000-0002-9500-5167" class="external-link">Vilmantas Gegzna</a>, <a href="http://academic.depauw.edu/hanson_web/" class="external-link">Bryan A. Hanson</a>, Roman Kiselev, Erick Oduniyi, Valter Sergo.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

