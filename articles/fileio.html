<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Import and Export Files with Spectra • hyperSpec</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Import and Export Files with Spectra">
<meta property="og:description" content='fileio: Tutorial on spectra file import and export for "hyperSpec".'>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hyperSpec</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.200.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-book"></span>
     
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Documentation for version of package:</li>
    <li>
      <a href="https://r-hyperspec.github.io/hyperSpec/" class="external-link">Released</a>
    </li>
    <li>
      <a href="https://r-hyperspec.github.io/hyperSpec/dev/" class="external-link">In-development</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/hyperSpec.html">Get started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fileio.html">Import and Export Files with Spectra</a>
    </li>
    <li>
      <a href="../articles/plotting.html">Plotting Functions in "hyperSpec"</a>
    </li>
    <li>
      <a href="../articles/baseline.html">Fitting Baselines to Spectra</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="../articles/index.html">More articles...</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-hyperspec/hyperSpec/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Import and Export Files with Spectra</h1>
            <h3 data-toc-skip class="subtitle">Tutorial on Spectra File Import and Export for “hyperSpec”</h3>
                        <h4 data-toc-skip class="author">Claudia Beleites<sup>1,2,3,4,5</sup>, Vilmantas Gegzna</h4>
            <address class="author_afil">
      <ol style="list-style-type: decimal">
<li>DIA Raman Spectroscopy Group, University of Trieste/Italy (2005–2008)</li>
<li>Spectroscopy <span class="math inline">\(\cdot\)</span> Imaging, IPHT, Jena/Germany (2008–2017)</li>
<li>ÖPV, JKI, Berlin/Germany (2017–2019)</li>
<li>Arbeitskreis Lebensmittelmikrobiologie und Biotechnologie, Hamburg University, Hamburg/Germany (2019 – 2020)</li>
<li>Chemometric Consulting and Chemometrix GmbH, Wölfersheim/Germany (since 2016)</li>
</ol>
<br><a class="author_email" href="mailto:#"></a><a href="mailto:chemometrie@beleites.de" class="email">chemometrie@beleites.de</a>
      </address>
                  
            <h4 data-toc-skip class="date">2023-04-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/r-hyperspec/hyperSpec/blob/HEAD/vignettes/fileio.Rmd" class="external-link"><code>vignettes/fileio.Rmd</code></a></small>
      <div class="hidden name"><code>fileio.Rmd</code></div>

    </div>

    
    
<pre><code><span><span class="co">#&gt; Warning: Code evaluation in fileio.Rmd DISABLED!</span></span></code></pre>
<hr>
<div class="redbox">
<p>
<strong>Consistent naming of file import functions in version &gt;=
0.99</strong>
</p>
<p>
From now on, all import functions have names starting with
<code>read.*()</code>. All functions previously named
<code>scan.*()</code> have been renamed accordingly.
</p>
</div>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<div class="redbox">
<p>
<strong>Supported File Formats</strong>
</p>
<p>
From now on, all import functions have names starting with
<code>read.<em>()</em></code>. All functions previously named
<code>scan.()</code> have been renamed accordingly.
</p>
<p>
Package <strong>hyperSpec</strong> supports several file formats
relevant for different types of spectroscopy. This file format is
naturally only a subset of the file formats produced by different
spectroscopic equipment.
</p>
<p>
If you use package <strong>hyperSpec</strong> with data formats not
mentioned in this document, please open a <a href="https://github.com/r-hyperspec/hyperSpec/issues" target="_blank" class="external-link">new issue</a> in <strong>hyperSpec</strong>’s GitHub
repository so that this document can be updated. The information should
include:
</p>
<ul>
<li>
The type of spectroscopy,
</li>
<li>
Spectrometer model, manufacturer, and software,
</li>
<li>
The “native” file format (including a sample file),
</li>
<li>
Description of relevant procedures to convert the file,
</li>
<li>
R code to import the data together with an example file that is read
by R,
</li>
<li>
Documentation, particularly the description of the data format.
</li>
</ul>
<p>
If you need help finding out how to import your data, please search
and eventually ask on <a href="http://stackoverflow.com/questions/tagged/r+spectroscopy" target="_blank" class="external-link">Stackexchange</a> with tags <code>[r]</code> and
<code>[spectroscopy]</code>.
</p>
</div>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<!-- FIXME: fix the link in the block blow, when time comes -->
<div class="note">
<p>
<strong>Reproducing the Examples in this Manual</strong>
</p>
<p>
To run the code examples, create a folder named “fileio” in your
working directory and copy the contents of the directory <a href="https://github.com/r-hyperspec/hyperSpec/tree/r-hyperspec/Vignettes/fileio" class="external-link uri">https://github.com/r-hyperspec/hyperSpec/tree/r-hyperspec/Vignettes/fileio</a>.
This online directory contains the required datasets (via
<code>git-lfs</code>).
</p>
</div>
<hr>
<!-- This chunk inserts common info about all the vignettes --><hr>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-hyperspec.github.io/hyperSpec" class="external-link">hyperSpec</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2" number="1">
<h2 id="introduction">
<span class="header-section-number">1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This document describes how to import files containing spectra into <code class="sourceCode r">hyperSpec</code> objects, as well as exporting<code>hyperSpec</code> objects as files.</p>
<p>The most basic funtion to create <code class="sourceCode r">hyperSpec</code> objects is <code class="sourceCode r"><span class="fu">new</span>(<span class="st">"hyperSpec"</span>)</code> (section <a href="#sec:new">2</a>).
It makes a <code class="sourceCode r">hyperSpec</code> object from data already in R’s workspace.
Thus, after spectra importation into R, conversion to <code class="sourceCode r">hyperSpec</code> objects is straightforward.</p>
<p>Additionally, the <strong>hyperSpec</strong> package comes with predefined import functions for different data formats.
This document divides the discussion into dealing with ASCII files (section <a href="#sec:ascii">5</a><!--, p. \pageref{sec:ascii}-->) and binary file formats (section <a href="#sec:binary-file-formats">6</a><!--, p. \pageref{sec:binary-file-formats}-->).
If data export for the respective format is possible, we discuss it in the same sections.
As sometimes the actual data written by the spectrometer software exhibits peculiarities, package <strong>hyperSpec</strong> offers several specialized import functions.
In general, the naming convention is the data format followed by the manufacturer (e.g., <code>read.ENVI.Nicolet</code>).</p>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<p>Overview lists of the directly supported file formats are in the appendix: sorted by file format (<!--appendix --><a href="#sec:format">9.1</a><!--, p. \pageref{sec:format}-->), manufacturer (<!--appendix --><a href="#sec:manufacturer">9.2</a><!--, p. \pageref{sec:manufacturer}-->), and by spectroscopy (<!--appendix --><a href="#sec:spectroscopy">9.3</a><!--, p. \pageref{sec:spectroscopy}-->).</p>
</div>
<div class="section level2" number="2">
<h2 id="sec:new">
<span class="header-section-number">2</span> Creating a <code class="sourceCode r">hyperSpec</code> object with <code class="sourceCode r"><span class="fu">new</span>()</code><a class="anchor" aria-label="anchor" href="#sec:new"></a>
</h2>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<p>
</p>
<p>To create a <code class="sourceCode r">hyperSpec</code> object from data in R’s workspace, use:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span>, <span class="va">spc</span>, <span class="va">wavelength</span>, <span class="va">data</span>, <span class="va">labels</span><span class="op">)</span></span></code></pre></div>
<p>With the arguments:</p>
<table class="table">
<colgroup>
<col width="19%">
<col width="80%">
</colgroup>
<tbody>
<tr class="odd">
<td align="left"><strong><code>spc</code></strong></td>
<td align="left">the spectra matrix (may also be given as matrix inside
column <code class="sourceCode r"><span class="sc">$</span>spc</code> of <code class="sourceCode r">data</code>)</td>
</tr>
<tr class="even">
<td align="left"><strong><code>wavelength</code></strong></td>
<td align="left">the wavelength axis vector</td>
</tr>
<tr class="odd">
<td align="left"><strong><code>data</code></strong></td>
<td align="left">the extra data (possibly already including the spectra
matrix in column <code>spc</code>)</td>
</tr>
<tr class="even">
<td align="left"><strong><code>labels</code></strong></td>
<td align="left">a list with the proper labels.
Do not forget the wavelength axis label in <code class="sourceCode r"><span class="sc">$</span>.wavelength</code>
and the spectral intensity axis label in <code class="sourceCode r"><span class="sc">$</span>spc</code>.</td>
</tr>
</tbody>
</table>
<p>Thus, once the data is in R’s workspace, creating a <code class="sourceCode r">hyperSpec</code> object is easy.
We suggest wrapping the code to import the data and the line joining it into a <code class="sourceCode r">hyperSpec</code> object by a user-created import function.
Users are more than welcome to contribute such import code to package <strong>hyperSpec</strong>.
Secion <a href="#sec:writing-Import">8</a><!--, (p. \pageref{sec:writing-Import})--> discusses examples of custom import functions.</p>
<div class="section level3" number="2.1">
<h3 id="import-spectra-matrix">
<span class="header-section-number">2.1</span> Creating a <code class="sourceCode r">hyperSpec</code> Object from a Data Matrix (Spectra Matrix)<a class="anchor" aria-label="anchor" href="#import-spectra-matrix"></a>
</h3>
<p>As spectra matrices are the internal format of <code class="sourceCode r">hyperSpec</code>, the constructor can directly be used:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span>, <span class="va">spc</span>, <span class="va">wavelength</span>, <span class="va">data</span>, <span class="va">labels</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3" number="2.2">
<h3 id="import-spectra-array">
<span class="header-section-number">2.2</span> Creating a <code class="sourceCode r">hyperSpec</code> Object from a Data Cube (Spectra Array)<a class="anchor" aria-label="anchor" href="#import-spectra-array"></a>
</h3>
<p>Roberto Moscetti asked how to convert a hyperspectral data cube into a <code class="sourceCode r">hyperSpec</code> object:</p>
<blockquote>
<p>The problem is that I have a hypercube with the following dimensions: 67 × 41 × 256
y = 67
x = 41
wavelengths = 256</p>
<p>I do not know the way to import the hypercube.</p>
</blockquote>
<p>Data cubes (i.e., 3-dimensional arrays of spectral data) result from spectral imaging measurements, where spectra are supplied for each pixel of an <span class="math inline">\(px.x × px.y\)</span> imaging area.
They have three directions, usually <span class="math inline">\(x\)</span>, <span class="math inline">\(y\)</span>, and the spectral dimension.</p>
<p>The solution is to convert the array into a spectra matrix and have separate <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> coordinates.</p>
<p>Assume <code class="sourceCode r">data</code> is the data cube, and <code class="sourceCode r">x</code>, <code class="sourceCode r">y</code> and <code class="sourceCode r">wl</code> hold vectors with the proper <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> coordinates and the wavelengths:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/array.html" class="external-link">array</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">24</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">wl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">550</span>, <span class="fl">630</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">1200</span>, <span class="fl">1400</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1800</span>, <span class="fl">1600</span>, <span class="fl">1400</span>, <span class="fl">1200</span><span class="op">)</span></span>
<span><span class="va">data</span></span></code></pre></div>
<p>Such data can be converted into a <code class="sourceCode r">hyperSpec</code> object by:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">*</span> <span class="va">d</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="va">d</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">x</span>, each <span class="op">=</span> <span class="va">d</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">y</span>, <span class="va">d</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">spectra</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span>,</span>
<span>  spc <span class="op">=</span> <span class="va">data</span>,</span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span>, wavelength <span class="op">=</span> <span class="va">wl</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>If no proper coordinates (vectors <code class="sourceCode r">x</code>, <code class="sourceCode r">y</code> and <code class="sourceCode r">wl</code>) are available, they can be left out.
In the case of <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span>, map plotting will then be impossible, missing <code class="sourceCode r">wavelength</code>s will be replaced by column indices counting from <code class="sourceCode r"><span class="dv">1</span></code> to <code class="sourceCode r">d[<span class="dv">3</span>]</code> automatically.
Of course, such sequences (the row/column/pixel numbers) can be used instead of the original <code class="sourceCode r">x</code> and <code class="sourceCode r">y</code> as well:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_len</a></span><span class="op">(</span><span class="va">d</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>Data cubes often come from spectral imaging systems that use an “image” coordinate system counting <span class="math inline">\(y\)</span> from top to bottom.
Note that this should be accounted for in the decreasing order of the original <code class="sourceCode r">y</code> vector.</p>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
</div>
</div>
<div class="section level2" number="3">
<h2 id="io-options">
<span class="header-section-number">3</span> General Behaviour of File Import Functions: Options <code>file.keep.name</code> and <code>file.remove.emptyspc</code><a class="anchor" aria-label="anchor" href="#io-options"></a>
</h2>
</div>
<div class="section level2" number="4">
<h2 id="sec:read-mult-files">
<span class="header-section-number">4</span> Reading Multiple Files into One <code>hyperSpec</code> Object<a class="anchor" aria-label="anchor" href="#sec:read-mult-files"></a>
</h2>
<p>Many of the function described below will work on one file, even though derived functions such as <code class="sourceCode r"><span class="fu">read.spc.KaiserMap</span>()</code> (see section <a href="#sec:read-spc-KaiserMap">7.5.2</a><!--, p. \pageref{sec:read-spc-KaiserMap}-->) may take care of measurements consisting of multiple files.</p>
<p>Usually, the most convenient way to import multiple files into one <code class="sourceCode r">hyperSpec</code> object is reading all files into a list of <code class="sourceCode r">hyperSpec</code> objects, and then <code class="sourceCode r"><span class="fu">collapse</span>()</code>ing this list into a single <code class="sourceCode r">hyperSpec</code> object:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.glob.html" class="external-link">Sys.glob</a></span><span class="op">(</span><span class="st">"fileio/spc.Kaisermap/*.spc"</span><span class="op">)</span></span>
<span><span class="va">files</span> <span class="op">&lt;-</span> <span class="va">files</span><span class="op">[</span><span class="fu"><a href="../reference/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">files</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="co"># import low wavenumber region only</span></span>
<span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">files</span>, <span class="va">read.spc</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span></span>
<span><span class="va">spc</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collapse.html">collapse</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span></span>
<span><span class="va">spc</span></span></code></pre></div>
<p>Note that in this particular case, the spectra are more efficiently read by <code class="sourceCode r"><span class="fu">read.spc.KaiserMap</span>()</code> (see section <a href="#sec:read-spc-KaiserMap">7.5.2</a><!--, p. \pageref{sec:read-spc-KaiserMap}-->).</p>
<p>If one regularly imports huge maps or images, writing a customized import function is highly encouraged.
Users may gain speed and memory by using the internal workhorse functions for the file import.
In that case, please contact the package maintainer (<a href="https://github.com/r-hyperspec/hyperSpec/issues" target="_blank" class="external-link"><strong>hyperSpec</strong>’s GitHub repository</a>) for advise (contributions to package <strong>hyperSpec</strong> are welcome and all authors are listed appropriately in the function help page’s author section).</p>
</div>
<div class="section level2" number="5">
<h2 id="sec:ascii">
<span class="header-section-number">5</span> ASCII Files<a class="anchor" aria-label="anchor" href="#sec:ascii"></a>
</h2>
<!-- {#sec:ascii} {#sec:read-txt-long} {#sec:read-txt-wide} -->
<p>
</p>
<p>Currently, <code class="sourceCode r">hyperSpec</code> provides two functions for general ASCII data import:</p>
<ul>
<li>
<code class="sourceCode r"><span class="fu">read.txt.long</span>()</code> imports long format ASCII files, i.e., one intensity value per row.</li>
<li>
<code class="sourceCode r"><span class="fu">read.txt.wide</span>()</code> imports wide format ASCII files, i.e., one spectrum per row.</li>
</ul>
<p>The import functions immediately return a <code class="sourceCode r">hyperSpec</code> object.</p>
<p>Internally, they use <code class="sourceCode r"><span class="fu">read.table</span>()</code>, a very powerful ASCII import function.
R supplies another ASCII import function, <code class="sourceCode r"><span class="fu">scan</span>()</code>.
Function <code class="sourceCode r"><span class="fu">scan</span>()</code> imports numeric data matrices and is faster than <code class="sourceCode r"><span class="fu">read.table</span>()</code>, but cannot import column names.
If the data does not contain a header or is not important and can safely be skipped, it may want to import the data using <code class="sourceCode r"><span class="fu">scan</span>()</code>.</p>
<p>Note that R allows the use a variety of compressed file formats directly as ASCII files (for example, see section <a href="#sec:read-txt-Renishaw">7.6</a><!-- on p. \pageref{sec:read-txt-Renishaw}-->).
Also, both <code class="sourceCode r"><span class="fu">read.txt.long</span>()</code> and <code class="sourceCode r"><span class="fu">read.txt.wide</span>()</code> accept connections instead of file names.</p>
<div class="section level3" number="5.1">
<h3 id="sec:ascii-files-cols">
<span class="header-section-number">5.1</span> ASCII Files with Samples in Columns<a class="anchor" aria-label="anchor" href="#sec:ascii-files-cols"></a>
</h3>
<p>
</p>
<p>Richard Pena asked about importing another ASCII file type:</p>
<blockquote>
<p>File <code>Triazine5_31.txt</code> corresponds to X ray powder diffraction data (Bruker AXS).
The native files data”ra”are read with EVA software then they are converted into <code>.uxd</code> file with the
File Exchange software (Bruker AXS).
The <code>.uxd</code> file are opened with Excel software and saved as <code>.txt</code> file, <code>.csv</code> file (ChemoSpec) or <code>.xls</code>.</p>
<p>The first and following columns corresponds to the angle diffraction and the intensity values of
samples respectively.</p>
</blockquote>
<p>Thus, this file differs from the ASCII formats discussed above in that the samples are actually in columns whereas <code class="sourceCode r">hyperSpec</code> expects them to be in rows.
The header line gives the name of the sample.
Import is straightforward, and just the spectra matrix needs to be transposed to make a <code class="sourceCode r">hyperSpec</code> object:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="st">"fileio/txt.t/Triazine 5_31.txt"</span>, header <span class="op">=</span> <span class="cn">TRUE</span>, dec <span class="op">=</span> <span class="st">","</span>, sep <span class="op">=</span> <span class="st">"\t"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">triazine</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span>,</span>
<span>  wavelength <span class="op">=</span> <span class="va">file</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>, spc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="va">file</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>sample <span class="op">=</span> <span class="fu"><a href="../reference/dimnames.html">colnames</a></span><span class="op">(</span><span class="va">file</span><span class="op">[</span>, <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    .wavelength <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fl">2</span> <span class="op">*</span> <span class="va">theta</span> <span class="op">/</span> <span class="va">degree</span><span class="op">)</span>,</span>
<span>    spc <span class="op">=</span> <span class="st">"I / a.u."</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">triazine</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="va">triazine</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p>Witec also saves ASCII data with spectra in columns (Export <span class="math inline">\(\rightarrow\)</span> Table), see <a href="#sec:read-txt-Witec">7.9</a>.</p>
</div>
<div class="section level3" number="5.2">
<h3 id="sec:aes-nist">
<span class="header-section-number">5.2</span> Basic Atomic Spectra from NIST Tables<a class="anchor" aria-label="anchor" href="#sec:aes-nist"></a>
</h3>
<p>
</p>
<p>The NIST (National Institute of Standards and Technology) has published a data base of basic atomic
emission spectra see <a href="http://physics.nist.gov/PhysRefData/Handbook/periodictable.htm" class="external-link uri">http://physics.nist.gov/PhysRefData/Handbook/periodictable.htm</a> with emission lines tabulated in ASCII (HTML) files.</p>
<p>Here’s an example how to extract the data of the Hg strong lines file:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="st">"fileio/NIST/mercurytable2.htm"</span><span class="op">)</span></span>
<span><span class="co"># file &lt;- readLines("http://physics.nist.gov/PhysRefData/Handbook/Tables/mercurytable2.htm")</span></span>
<span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="va">file</span><span class="op">[</span><span class="op">-</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"Intensity.*Wavelength"</span>, <span class="va">file</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="va">file</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"&lt;/pre&gt;"</span>, <span class="va">file</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"&lt;[^&gt;]*&gt;"</span>, <span class="st">""</span>, <span class="va">file</span><span class="op">)</span></span>
<span><span class="va">file</span> <span class="op">&lt;-</span> <span class="va">file</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^[[:space:]]+$"</span>, <span class="va">file</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="va">colnames</span> <span class="op">&lt;-</span> <span class="va">file</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="va">colnames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"[[:space:]][[:space:]]+"</span>, <span class="st">"\t"</span>, <span class="va">file</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">colnames</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">colnames</span>, <span class="st">"\t"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">colnames</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intensity"</span>, <span class="st">"Wavelength (&amp;Aring;)"</span>, <span class="st">"Spectrum"</span>, <span class="st">"Ref. "</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"file format changed!"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">tablestart</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"^[[:blank:]]*[[:alpha:]]+$"</span>, <span class="va">file</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1</span></span>
<span><span class="va">tableend</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">tablestart</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span> <span class="op">-</span> <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">file</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">t</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">tablestart</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="va">file</span><span class="op">[</span><span class="va">tablestart</span><span class="op">[</span><span class="va">t</span><span class="op">]</span><span class="op">:</span><span class="va">tableend</span><span class="op">[</span><span class="va">t</span><span class="op">]</span><span class="op">]</span></span>
<span>  <span class="va">tables</span><span class="op">[[</span><span class="va">t</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.fwf.html" class="external-link">read.fwf</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/textconnections.html" class="external-link">textConnection</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">8</span>, <span class="fl">12</span>, <span class="fl">15</span>, <span class="fl">9</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="../reference/dimnames.html">colnames</a></span><span class="op">(</span><span class="va">tables</span><span class="op">[[</span><span class="va">t</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Intensity"</span>, <span class="st">"persistent"</span>, <span class="st">"Wavelength"</span>, <span class="st">"Spectrum"</span>, <span class="st">"Ref. "</span><span class="op">)</span></span>
<span>  <span class="va">tables</span><span class="op">[[</span><span class="va">t</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"[[:space:]]"</span>, <span class="st">""</span>, <span class="va">file</span><span class="op">[</span><span class="va">tablestart</span><span class="op">[</span><span class="va">t</span><span class="op">]</span> <span class="op">-</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">tables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">tables</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">tables</span><span class="op">$</span><span class="va">Spectrum</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">" "</span>, <span class="st">""</span>, <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">tables</span><span class="op">$</span><span class="va">Spectrum</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Hg.AES</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">s</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">tables</span><span class="op">$</span><span class="va">Spectrum</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">Hg.AES</span><span class="op">[[</span><span class="va">s</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span>,</span>
<span>    wavelength <span class="op">=</span> <span class="va">tables</span><span class="op">$</span><span class="va">Wavelength</span><span class="op">[</span><span class="va">tables</span><span class="op">$</span><span class="va">Spectrum</span> <span class="op">==</span> <span class="va">s</span><span class="op">]</span>,</span>
<span>    spc <span class="op">=</span> <span class="va">tables</span><span class="op">$</span><span class="va">Intensity</span><span class="op">[</span><span class="va">tables</span><span class="op">$</span><span class="va">Spectrum</span> <span class="op">==</span> <span class="va">s</span><span class="op">]</span>,</span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Spectrum <span class="op">=</span> <span class="va">s</span><span class="op">)</span>,</span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      .wavelength <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">lambda</span> <span class="op">/</span> <span class="fu">ring</span><span class="op">(</span><span class="va">A</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      spc <span class="op">=</span> <span class="st">"I"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot.html">plot</a></span><span class="op">(</span><span class="fu"><a href="../reference/collapse.html">collapse</a></span><span class="op">(</span><span class="va">Hg.AES</span><span class="op">)</span>, lines.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"h"</span><span class="op">)</span>, col <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3" number="5.3">
<h3 id="further-ascii-formats">
<span class="header-section-number">5.3</span> Further ASCII Formats<a class="anchor" aria-label="anchor" href="#further-ascii-formats"></a>
</h3>
<p>Further import filters are provided for manufacturer/software specific ASCII formats, see table <a href="#sec:format">9.1</a><!-- (p. \pageref{sec:format})--> and section <a href="#sec:manuf-spec-import">7.1</a><!--(p. \pageref{sec:manuf-spec-import})-->.</p>
</div>
<div class="section level3" number="5.4">
<h3 id="ascii-export">
<span class="header-section-number">5.4</span> ASCII Export<a class="anchor" aria-label="anchor" href="#ascii-export"></a>
</h3>
<p>ASCII export can be done in wide and long format using <code class="sourceCode r"><span class="fu">write_txt_long</span>()</code> and <code class="sourceCode r"><span class="fu">write_txt_wide</span>()</code>.
If you need a specific header or footer, use R’s functions for writing files: <code class="sourceCode r"><span class="fu">write.table</span>()</code>, <code class="sourceCode r"><span class="fu">write</span>()</code>, <code class="sourceCode r"><span class="fu">cat</span>()</code> and so on offer fine-grained control of writing ASCII files.</p>
</div>
</div>
<div class="section level2" number="6">
<h2 id="sec:binary-file-formats">
<span class="header-section-number">6</span> Binary File Formats<a class="anchor" aria-label="anchor" href="#sec:binary-file-formats"></a>
</h2>
<div class="section level3" number="6.1">
<h3 id="sec:readMat">
<span class="header-section-number">6.1</span> Matlab Files<a class="anchor" aria-label="anchor" href="#sec:readMat"></a>
</h3>
<p></p>
<p>Matlab files can be read and written using the package <strong>R.matlab</strong>, which is available at CRAN and can be installed by <code class="sourceCode r"><span class="fu">install.packages</span>(<span class="st">"R.matlab"</span>)</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/HenrikBengtsson/R.matlab" class="external-link">R.matlab</a></span><span class="op">)</span></span></code></pre></div>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc.mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/R.matlab/man/readMat.html" class="external-link">readMat</a></span><span class="op">(</span><span class="st">"fileio/spectra.mat"</span><span class="op">)</span></span></code></pre></div>
<p>If the <code>.mat</code> file was saved with compression, the additional package <strong>Rcompression</strong> is needed.
It can be installed from omegahat:</p>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"Rcompression"</span>, repos <span class="op">=</span> <span class="st">"http://www.omegahat.org/R"</span><span class="op">)</span></span></code></pre></div>
<p>See the documentation of package <strong>R.matlab</strong> for more details and possibly needed further packages.</p>
<p>Function <code class="sourceCode r"><span class="fu">readMat</span>()</code> imports the <code>.mat</code> file’s contents as a list.
The variables in the <code>.mat</code> file are appropriately named elements of the list.
The <code class="sourceCode r">hyperSpec</code> object can be created using <code class="sourceCode r"><span class="fu">new</span>()</code>, see section <a href="#sec:new">2</a><!-- (p. \pageref{sec:new})-->.</p>
<p>Again, users probably want to wrap the import of their Matlab files into a function.</p>
<div class="section level4" number="6.1.1">
<h4 id="sec:writing-matlab-files">
<span class="header-section-number">6.1.1</span> Matlab Export<a class="anchor" aria-label="anchor" href="#sec:writing-matlab-files"></a>
</h4>
<p>package <strong>R.matlab</strong>’s function <code class="sourceCode r"><span class="fu">writeMat</span>()</code> can be used to write R objects into <code>.mat</code> files.
To save an <code class="sourceCode r">hyperSpec</code> object <code class="sourceCode r">x</code> for use in Matlab, you most likely want to save:</p>
<ul>
<li>the wavelength axis as obtained by <code class="sourceCode r"><span class="fu">wl</span>(x)</code>,</li>
<li>the spectra matrix as obtained by <code class="sourceCode r">x[[]]</code>, and</li>
<li>possibly also the extra data as obtained by <code class="sourceCode r">x<span class="sc">$</span>..</code>
</li>
<li>as well as the axis labels <code class="sourceCode r"><span class="fu">labels</span>(x)</code>.</li>
<li>Alternatively, <code class="sourceCode r">x<span class="sc">$</span>.</code> yields the extra data together with the spectra matrix.</li>
</ul>
<p>However, it may be convenient to transform the saved data according to how it is needed in Matlab.
The functions <code class="sourceCode r"><span class="fu">as.long.df</span>()</code> and <code class="sourceCode r"><span class="fu">as.wide.df</span>()</code> may prove useful for reshaping the data.</p>
</div>
<div class="section level4" number="6.1.2">
<h4 id="sec:read-mat-Cytospec">
<span class="header-section-number">6.1.2</span> Import of Matlab Files Written by Cytospec<a class="anchor" aria-label="anchor" href="#sec:read-mat-Cytospec"></a>
</h4>
<p></p>
<p>A custom import function for <code>.mat</code> files written by <a href="http://www.cytospec.com/" target="_blank" class="external-link">Cytospec</a> is available:</p>
<p>Note that Cytospec files can contain multiple versions of the data, the so-called blocks.
The block to be read can be specified with the <code class="sourceCode r">block</code> argument.
With <code class="sourceCode r">block <span class="ot">=</span> <span class="cn">TRUE</span></code>, the function will read all blocks into a list:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.mat.Cytospec.html">read.mat.Cytospec</a></span><span class="op">(</span><span class="st">"fileio/mat.cytospec/cytospec.mat"</span>, blocks <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>otherwise, select a block:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.mat.Cytospec.html">read.mat.Cytospec</a></span><span class="op">(</span><span class="st">"fileio/mat.cytospec/cytospec.mat"</span>, blocks <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<div class="redbox">
<p>
<strong>Function <code class="sourceCode r">read.cytomat</code> is
now <em>defunct</em></strong>.
</p>
<p>
Function <code class="sourceCode r"><span class="fu">read.cytomat</span>()</code> has
been renamed to <code class="sourceCode r"><span class="fu">read.mat.Cytospec</span>()</code>
to be more consistent with the general naming scheme of the file import
functions.
</p>
<p>
Please use <code class="sourceCode r"><span class="fu">read.mat.Cytospec</span>()</code>
instead.
</p>
</div>
</div>
</div>
<div class="section level3" number="6.2">
<h3 id="sec:read-ENVI">
<span class="header-section-number">6.2</span> ENVI Files<a class="anchor" aria-label="anchor" href="#sec:read-ENVI"></a>
</h3>
<p>
</p>
<p>ENVI files are binary data accompanied by an ASCII header file.
Package <strong>hyperSpec</strong>’s function <code class="sourceCode r"><span class="fu">read.ENVI</span>()</code> can be used to import them.
Usually, the header file name is the same as the binary data file name, with the suffix replaced by <code>.hdr</code>. Otherwise, the header file name can be given via parameter <strong>header file`{.r}</strong>.</p>
<p>As we experienced missing header files (Bruker’s Opus software frequently produced header files without any content), the data that would usually be read from the header file can also be handed to <code class="sourceCode r"><span class="fu">read.ENVI</span>()</code> as a list in parameter **<code class="sourceCode r">header<span class="sc">**</span></code>.
Arguments are given in <code class="sourceCode r">header</code> replace corresponding entries of the header file.
The help page gives details on what elements the list should contain, see also the discussion of ENVI files written by Bruker’s OPUS software (section <a href="#sec:read-ENVI-Bruker">7.2</a><!--, p. \pageref{sec:read-ENVI-Bruker})-->.</p>
<p>Here is how to use <code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.ENVI.html">read.ENVI</a></span><span class="op">(</span><span class="st">"fileio/ENVI/example2.img"</span><span class="op">)</span></span>
<span><span class="va">spc</span></span></code></pre></div>
<p>Please see also the manufacturer specific notes in section <a href="#sec:manuf-spec-import">7.1</a><!--, p. \pageref{sec:manuf-spec-import}-->.</p>
<div class="section level4" number="6.2.1">
<h4 id="sec:envi-export">
<span class="header-section-number">6.2.1</span> ENVI Export<a class="anchor" aria-label="anchor" href="#sec:envi-export"></a>
</h4>
<p>Use package package <strong>caTools</strong> or package <strong>rgdal</strong> with GDAL for writing ENVI files.</p>
</div>
</div>
<div class="section level3" number="6.3">
<h3 id="sec:read-spc">
<span class="header-section-number">6.3</span> <code>spc</code> Files<a class="anchor" aria-label="anchor" href="#sec:read-spc"></a>
</h3>
<p>
</p>
<p>Thermo Galactic’s <code>.spc</code> file format can be imported by <code class="sourceCode r"><span class="fu">read.spc</span>()</code>.</p>
<div class="greenbox">
<p>
<strong>Official File Format Documentation</strong>
</p>
<p>
The specification used to be available at Thermo Scientific. Anyone
knowing where it moved please contact me (<a href="https://github.com/r-hyperspec/hyperSpec/issues" target="_blank" class="external-link"><strong>hyperSpec</strong>’s GitHub repository</a>) —
I’m looking for a reasonably official website (i.e. at Thermo) rather
than some random site with a copy.
</p>
</div>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<p>A variety of sub-formats exists. package <strong>hyperSpec</strong>’s import function <code class="sourceCode r"><span class="fu">read.spc</span>()</code> does <em>not</em> support the old file format that was used before 1996.
In addition, no test data with <em>w planes</em> was available — thus, the import of such files could not be tested.
If you come across such files, please contact the package maintainer (<a href="https://github.com/r-hyperspec/hyperSpec/issues" target="_blank" class="external-link"><strong>hyperSpec</strong>’s GitHub repository</a>).</p>
<p>The header and subheader blocks of spc files store additional information of pre-defined types (see the file format specification<span class="citation">[<a href="#ref-Galactic1997" role="doc-biblioref">1</a>]</span>).
Further information can be stored in the so-called log block at the end of the file and should be in a key-value format (although even the official example files do not always).
This information is often useful (Kaiser’s Hologram software, e.g., stores the stage position in the log block).</p>
<p>Function <code class="sourceCode r"><span class="fu">read.spc</span>()</code> has four arguments that allow fine-grained control of storing such information in the <code class="sourceCode r">hyperSpec</code> object:</p>
<table class="table">
<colgroup>
<col width="21%">
<col width="78%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong><code>keys.hdr2data</code></strong></td>
<td align="left">parameters from the spc file and subfile headers that should become
extra data columns.</td>
</tr>
<tr class="even">
<td><strong><code>keys.log2data</code></strong></td>
<td align="left">parameters from the spc file log block that should become extra data
columns.</td>
</tr>
<tr class="odd">
<td><strong><code>keys.*2log</code></strong></td>
<td align="left">parameters are deprecated because the logbook itself is depecated.</td>
</tr>
</tbody>
</table>
<p>The value of these arguments can either be logical (amounting to either use all or none of the information in the file) or a character vector giving the names of the parameters that should be used.
Note that the header file field names are always lowercase.</p>
<p>Here is how to find out what extra information could be read from the header and log:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.spc.html">read.spc</a></span><span class="op">(</span><span class="st">"fileio/spc.Kaisermap/ebroAVII.spc"</span>, keys.hdr2data <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.spc.html">read.spc</a></span><span class="op">(</span><span class="st">"fileio/spc.Kaisermap/ebroAVII.spc"</span>, keys.log2data <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><code>.spc</code> files may contain multiple spectra that do <em>not</em> share a common wavelength axis.
In this case, <code class="sourceCode r"><span class="fu">read.spc</span>()</code> returns a list of <code class="sourceCode r">hyperSpec</code> objects with one spectrum each.
Function <code class="sourceCode r"><span class="fu">collapse</span>()</code> may be used to combine this list into one <code class="sourceCode r">hyperSpec</code> object:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">barbiturates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.spc.html">read.spc</a></span><span class="op">(</span><span class="st">"fileio/spc/BARBITUATES.SPC"</span><span class="op">)</span></span></code></pre></div>
<!-- NOTE: the code to save this dataset as package data was removed from this file. -->
<!-- # save(barbiturates, file = "barbiturates.rda") -->
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">barbiturates</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">barbiturates</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">barbiturates</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collapse.html">collapse</a></span><span class="op">(</span><span class="va">barbiturates</span>, collapse.equal <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">barbiturates</span></span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">barbiturates</span><span class="op">[[</span>, , <span class="fl">25</span> <span class="op">~</span> <span class="fl">30</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<div class="section level4" number="6.3.1">
<h4 id="deriving-manufacturer-specific-import-filters">
<span class="header-section-number">6.3.1</span> Deriving Manufacturer Specific Import Filters<a class="anchor" aria-label="anchor" href="#deriving-manufacturer-specific-import-filters"></a>
</h4>
<p>Please note that future changes inside the read.spc function is likely to occur.
However, if you just post-process the <code class="sourceCode r">hyperSpec</code> object returned by <code class="sourceCode r"><span class="fu">read.spc</span>()</code>, you should be fine.</p>
</div>
</div>
</div>
<div class="section level2" number="7">
<h2 id="manufacturer-specific-discussion-of-file-import">
<span class="header-section-number">7</span> Manufacturer-Specific Discussion of File Import<a class="anchor" aria-label="anchor" href="#manufacturer-specific-discussion-of-file-import"></a>
</h2>
<div class="section level3" number="7.1">
<h3 id="sec:manuf-spec-import">
<span class="header-section-number">7.1</span> Manufacturer Specific Import Functions<a class="anchor" aria-label="anchor" href="#sec:manuf-spec-import"></a>
</h3>
<p>Many spectrometer manufacturers provide a function to export their spectra into ASCII files.
The functions discussed above are written in a very general way and are highly customizable.
We recommend wrapping these calls with the appropriate settings for the spectra format in an import function.
Please consider contributing such import filters to package <strong>hyperSpec</strong>: send us the documented code (for details, see the box at the beginning of this document).
If there is any format not mentioned in this document (even without the need of new converters), please let me know (details again in the box at the beginning of this document).</p>
</div>
<div class="section level3" number="7.2">
<h3 id="sec:read-ENVI-Bruker">
<span class="header-section-number">7.2</span> Bruker FT-IR Imaging<a class="anchor" aria-label="anchor" href="#sec:read-ENVI-Bruker"></a>
</h3>
<p>
</p>
<p>We use <code class="sourceCode r"><span class="fu">read.ENVI</span>()</code> to import IR-Images collected with a Bruker Hyperion spectrometer with OPUS software.
As mentioned above, the header files are frequently empty.
We found the necessary information to be:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">header</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  samples <span class="op">=</span> <span class="fl">64</span> <span class="op">*</span> <span class="va">no.images.in.row</span>,</span>
<span>  lines <span class="op">=</span> <span class="fl">64</span> <span class="op">*</span> <span class="va">no.images.in.column</span>,</span>
<span>  bands <span class="op">=</span> <span class="va">no.data.points.per.spectrum</span>,</span>
<span>  `data type` <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  interleave <span class="op">=</span> <span class="st">"bip"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>No spatial information is given in the ENVI header (if written).
The lateral coordinates can be set up by specifying origin and pixel size for <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> directions.
For details, please see the help page.</p>
<p>The proprietary file format of the Opus software is not yet supported.</p>
</div>
<div class="section level3" number="7.3">
<h3 id="sec:read-ENVI-Nicolet">
<span class="header-section-number">7.3</span> Nicolet FT-IR Imaging<a class="anchor" aria-label="anchor" href="#sec:read-ENVI-Nicolet"></a>
</h3>
<p>
</p>
<p>Also, Nicolet saves imaging data in ENVI files.
These files use some non-standard keywords in the header file that should reconstruct the lateral coordinates and the wavelength axes and units for wavelength and intensity axis.
Package <strong>hyperSpec</strong> has a specialized function <code class="sourceCode r"><span class="fu">read.ENVI.Nicolet</span>()</code> that uses these header entries.</p>
<p>It seems that the position of the first spectrum is recorded in <span class="math inline">\(mu m\)</span>{}, while the pixel size is in mm.
Thus a flag <code class="sourceCode r">nicolet.correction</code> is provided that divides the pixel size by 1000.
Alternatively, the correct offset and pixel size values may be given as function arguments.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.ENVI.html">read.ENVI.Nicolet</a></span><span class="op">(</span><span class="st">"fileio/ENVI/example2.img"</span>, nicolet.correction <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">spc</span> <span class="co">## dummy sample with all intensities zero</span></span></code></pre></div>
</div>
<div class="section level3" number="7.4">
<h3 id="sec:varianagilent-ft-ir">
<span class="header-section-number">7.4</span> Varian/Agilent FT-IR Imaging<a class="anchor" aria-label="anchor" href="#sec:varianagilent-ft-ir"></a>
</h3>
<p>
</p>
<p>Agilent (Varian) uses a variant of ENVI (with binary header).</p>
</div>
<div class="section level3" number="7.5">
<h3 id="sec:Kaiser">
<span class="header-section-number">7.5</span> Kaiser Optical Systems Raman<a class="anchor" aria-label="anchor" href="#sec:Kaiser"></a>
</h3>
<p>
</p>
<p>Spectra obtained using Kaiser’s Hologram software can be saved either in their own <code>.hol</code> format and imported into Matlab (from where the data may be written to a <code>.mat</code> file readable by package <strong>R.matlab</strong>’s <code class="sourceCode r"><span class="fu">readMat</span>()</code>.
Hologram can also write ASCII files and <code>.spc</code> files.
We found working with .spc files the best option.</p>
<p>Hologram usually interpolates the spectra to an evenly spaced wavelength (or <span class="math inline">\(\Delta\tilde\nu\)</span>) axis unless the spectra are saved in a by-pixel manner.
In this case, the full spectra consist of two files with consecutive file names: one for the low and one for the high wavenumber region.
See the example for <code>.spc</code> import.</p>
<div class="section level4" number="7.5.1">
<h4 id="sec:KaiserASCII">
<span class="header-section-number">7.5.1</span> Kaiser Optical Systems ASCII Files<a class="anchor" aria-label="anchor" href="#sec:KaiserASCII"></a>
</h4>
<p>
</p>
<p>The ASCII files are long format that can be imported by <code class="sourceCode r"><span class="fu">read.txt.long</span>()</code> (see section <!--\@ref(sec:read-txt-long)--><a href="#sec:ascii">5</a><!--, p. \pageref{sec:read-txt-long}-->).</p>
<p>We experienced two different problems with these files:</p>
<ul>
<li>If the instrument computer’s locale is set so that also the decimal separator is a comma, commas are used both as a decimal and as the column separator.</li>
<li>Values with a decimal fraction of <span class="math inline">\(0\)</span> are written with decimal separator but no further digits (e.g., <code>2,</code>).
This may be a problem for certain conversion functions (<code class="sourceCode r"><span class="fu">read.table</span>()</code> works fi</li>
</ul>
<p>Thus care must be taken:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## 1. import as character</span></span>
<span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/scan.html" class="external-link">scan</a></span><span class="op">(</span><span class="st">"fileio/txt.Kaiser/test-lo-4.txt"</span>, what <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"character"</span>, <span class="fl">4</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">","</span><span class="op">)</span></span>
<span><span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="va">tmp</span>, nrow <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## 2. concatenate every two columns by a dot</span></span>
<span><span class="va">wl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/apply.html">apply</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="op">]</span>, <span class="fl">2</span>, <span class="va">paste</span>, collapse <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/apply.html">apply</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span>, <span class="op">]</span>, <span class="fl">2</span>, <span class="va">paste</span>, collapse <span class="op">=</span> <span class="st">"."</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## 3. convert to numeric and create hyperSpec objectne, though).</span></span>
<span></span>
<span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span>, spc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span>, wavelength <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">wl</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">spc</span></span></code></pre></div>
</div>
<div class="section level4" number="7.5.2">
<h4 id="sec:read-spc-KaiserMap">
<span class="header-section-number">7.5.2</span> Kaiser Optical Systems Raman Maps<a class="anchor" aria-label="anchor" href="#sec:read-spc-KaiserMap"></a>
</h4>
<p>
</p>
<p>package <strong>hyperSpec</strong> provides the function <code class="sourceCode r"><span class="fu">read.spc.KaiserMap</span>()</code> to easily import spatial collections of
<code>.spc</code> files written by Kaiser’s Hologram software.
The filenames of all <code>.spc</code> files to be read into one <code class="sourceCode r">hyperSpec</code> object can be provided either as a character vector or as a wildcard expression (e.g., <code>"path/to/files/*.spc"</code>).</p>
<p>The data for the following example was saved with the wavelength axis being camera pixels rather than the Raman shift.
Thus two files for each spectrum were saved by Hologram.
Thus, a file name pattern is difficult to give, and a vector of file names is used instead:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">files</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.glob.html" class="external-link">Sys.glob</a></span><span class="op">(</span><span class="st">"fileio/spc.Kaisermap/*.spc"</span><span class="op">)</span></span>
<span><span class="va">spc.low</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.spc.Kaiser.html">read.spc.KaiserMap</a></span><span class="op">(</span><span class="va">files</span><span class="op">[</span><span class="fu"><a href="../reference/seq.html">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">files</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">spc.high</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.spc.Kaiser.html">read.spc.KaiserMap</a></span><span class="op">(</span><span class="va">files</span><span class="op">[</span><span class="fu"><a href="../reference/seq.html">seq</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">files</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">2</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/wl.html">wl</a></span><span class="op">(</span><span class="va">spc.high</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/wl.html">wl</a></span><span class="op">(</span><span class="va">spc.high</span><span class="op">)</span> <span class="op">+</span> <span class="fl">1340</span></span>
<span><span class="va">spc</span></span></code></pre></div>
</div>
</div>
<div class="section level3" number="7.6">
<h3 id="sec:read-txt-Renishaw">
<span class="header-section-number">7.6</span> Renishaw Raman<a class="anchor" aria-label="anchor" href="#sec:read-txt-Renishaw"></a>
</h3>
<p>
</p>
<p>Renishaw’s Wire software comes with a file format converter.
This program can produce a long ASCII format, <code>.spc</code>, or <code>.jdx</code> files.</p>
<p>We experienced that the conversion to <code>.spc</code> is <em>not</em> fully reliable: maps were saved as depth profiles, losing all spatial information.
Also, an evenly spaced wavelength axis was produced, although this was de-selected in the converter.
We, therefore, recommend using the ASCII format.
Otherwise the import using <code class="sourceCode r"><span class="fu">read.spc</span>()</code> worked.</p>
<div class="section level4" number="7.6.1">
<h4 id="sec:read-txt-Renishaw-ASCII">
<span class="header-section-number">7.6.1</span> Renishaw ASCII data<a class="anchor" aria-label="anchor" href="#sec:read-txt-Renishaw-ASCII"></a>
</h4>
<p>
</p>
<p>An optimized import function for the ASCII files is available: <code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code>.
The file may be compressed via gzip, bzip2, xz or lzma.
Zip compressed files are read via <code class="sourceCode r"><span class="fu">read.zip.Renishaw</span>()</code>.
The ASCII files can easily become very large, particularly with linefocus or streamline imaging.
Function <code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code> provides two mechanisms to avoid running out of memory during data import.
The file may be imported in chunks of a given number of lines (see the last example).
Function <code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code> can calculate the correct number of wavelengths (i.e., data points per spectrum) if the system command <code>wc</code> is available on your computer.</p>
<p>Also, the processing of the long ASCII format into the spectra matrix is done by reshaping the vector of intensities into a matrix.
This process does not allow any missing values in the data.
<em>Therefore it is not possible to import multi-spectra files with individually “zapped” spectra using <code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code>.</em></p>
<p>The second argument to <code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code> decides what type of experiment is imported.
Supported types are:</p>
<table class="table"><tbody>
<tr class="odd">
<td align="left"><strong><code>"xyspc"</code></strong></td>
<td align="left">maps, images, multiple spectra with <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> coordinates (default)</td>
</tr>
<tr class="even">
<td align="left"><strong><code>"spc"</code></strong></td>
<td align="left">single spectrum</td>
</tr>
<tr class="odd">
<td align="left"><strong><code>"depth"</code>, <code>"zspc"</code></strong></td>
<td align="left">depth series</td>
</tr>
<tr class="even">
<td align="left"><strong><code>"ts"</code></strong></td>
<td align="left">time series</td>
</tr>
</tbody></table>
<p>Instead of a file name, <code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code> accepts also a connection.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">paracetamol</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/paracetamol.txt"</span>, <span class="st">"spc"</span><span class="op">)</span></span>
<span><span class="va">paracetamol</span></span></code></pre></div>
<!-- NOTE: the code to save this dataset as package data was removed from this file. -->
<!-- save(paracetamol, file = "paracetamol.rda") -->
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/laser.txt.gz"</span>, data <span class="op">=</span> <span class="st">"ts"</span><span class="op">)</span></span></code></pre></div>
<p>Very large files can be read in chunks to save memory:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/chondro.txt"</span>, nlines <span class="op">=</span> <span class="fl">1e5</span>, nspc <span class="op">=</span> <span class="fl">875</span><span class="op">)</span></span></code></pre></div>
<p>R accepts a variety of compressed file formats for ASCII files:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/chondro.gz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/chondro.xz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/chondro.lzma"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/chondro.gz"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.txt.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/chondro.bz2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Renishaw.html">read.zip.Renishaw</a></span><span class="op">(</span><span class="st">"fileio/txt.Renishaw/chondro.zip"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3" number="7.7">
<h3 id="sec:read-txt-Horiba">
<span class="header-section-number">7.7</span> Horiba / Jobin Yvon (e.g. LabRAM)<a class="anchor" aria-label="anchor" href="#sec:read-txt-Horiba"></a>
</h3>
<p>
</p>
<p>Horiba’s Labspec software (e. g. LabRAM spectrometers) saves spectra in a wide ASCII format which is read by <code class="sourceCode r"><span class="fu">read.txt.Horiba</span>()</code>, e. g.:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.txt.Horiba.html">read.txt.Horiba</a></span><span class="op">(</span><span class="st">"fileio/txt.HoribaJobinYvon/ts.txt"</span>,</span>
<span>  cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    t <span class="op">=</span> <span class="st">"t / s"</span>, spc <span class="op">=</span> <span class="st">"I / a.u."</span>,</span>
<span>    .wavelength <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">Delta</span> <span class="op">*</span> <span class="fu">tilde</span><span class="op">(</span><span class="va">nu</span><span class="op">)</span> <span class="op">/</span> <span class="va">cm</span><span class="op">^</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">spc</span></span></code></pre></div>
<p>Note that Labspec <code>.txt</code> files can contain lots of spectra with zero intensity: Labspec saves a complete rectangular grid even if only part of a map was measured.
These spectra are by removed by default if option <code class="sourceCode r">file.remove.emptyspc</code> is <code class="sourceCode r"><span class="cn">TRUE</span></code> (the default).</p>
<p>For convenience, functions to further wrappers to import maps (<code class="sourceCode r"><span class="fu">read.txt.Horiba.xy</span>()</code>) and time series (<code class="sourceCode r"><span class="fu">read.txt.Horiba.t</span>()</code>) are provided.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.txt.Horiba.html">read.txt.Horiba.xy</a></span><span class="op">(</span><span class="st">"fileio/txt.HoribaJobinYvon/map.txt"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">141</span>, <span class="fl">4</span>, <span class="fl">616</span><span class="op">)</span><span class="op">)</span> <span class="op">||</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span> <span class="op">&lt;</span> <span class="va">.Machine</span><span class="op">$</span><span class="va">double.eps</span><span class="op">^</span><span class="fl">.5</span><span class="op">)</span> <span class="op">||</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">spc</span><span class="op">$</span><span class="va">x</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">spc</span><span class="op">$</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">||</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">spc</span><span class="op">$</span><span class="va">y</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">spc</span><span class="op">$</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">||</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="../reference/wl.html">wl</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">616</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0L</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"error in testing read.txt.Horiba.xy. Please contact "</span>, <span class="fu"><a href="https://rdrr.io/r/utils/maintainer.html" class="external-link">maintainer</a></span><span class="op">(</span><span class="st">"hyperSpec"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="va">spc</span></span></code></pre></div>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.txt.Horiba.html">read.txt.Horiba.t</a></span><span class="op">(</span><span class="st">"fileio/txt.HoribaJobinYvon/ts.txt"</span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span> <span class="op">!=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">3</span>, <span class="fl">1024</span><span class="op">)</span><span class="op">)</span> <span class="op">||</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">spc</span><span class="op">$</span><span class="va">t</span><span class="op">)</span> <span class="op">||</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">spc</span><span class="op">$</span><span class="va">t</span><span class="op">)</span><span class="op">)</span> <span class="op">||</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="../reference/wl.html">wl</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">1024</span><span class="op">)</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0L</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"error in testing read.txt.Horiba.xy. Please contact "</span>, <span class="fu"><a href="https://rdrr.io/r/utils/maintainer.html" class="external-link">maintainer</a></span><span class="op">(</span><span class="st">"hyperSpec"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">spc</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">spc</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3" number="7.8">
<h3 id="sec:read-asc-Andor">
<span class="header-section-number">7.8</span> Andor Solis<a class="anchor" aria-label="anchor" href="#sec:read-asc-Andor"></a>
</h3>
<p>
</p>
<p>Andor Solis exports ASCII files that can be read with <code class="sourceCode r"><span class="fu">read.asc.Andor</span>()</code>:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.asc.Andor.html">read.asc.Andor</a></span><span class="op">(</span><span class="st">"fileio/asc.Andor/ASCII-Andor-Solis.asc"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3" number="7.9">
<h3 id="sec:read-txt-Witec">
<span class="header-section-number">7.9</span> Witec<a class="anchor" aria-label="anchor" href="#sec:read-txt-Witec"></a>
</h3>
<p>
</p>
<p>The Witec project software supports exporting spectra as Thermo Galactic <code>.spc</code> files.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.spc.html">read.spc</a></span><span class="op">(</span><span class="st">"fileio/spc.Witec/Witec-timeseries.spc"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.spc.html">read.spc</a></span><span class="op">(</span><span class="st">"fileio/spc.Witec/Witec-Map.spc"</span><span class="op">)</span></span></code></pre></div>
<p><code>.spc</code> is in general the recommended format for package <strong>hyperSpec</strong> import.
For imaging data, no spatial information for the set of spectra is provided (in version 2.10, this export option is not supported).</p>
<p>Imaging data (but also single spectra and time series) can be exported as ASCII X and Y files (Save ASCII X and Save ASCII Y, not supported in version 4).
These can be read by <code class="sourceCode r"><span class="fu">read.dat.Witec</span>()</code>:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Witec.html">read.dat.Witec</a></span><span class="op">(</span><span class="st">"fileio/txt.Witec/Witec-timeseries-x.dat"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Witec.html">read.dat.Witec</a></span><span class="op">(</span></span>
<span>  filex <span class="op">=</span> <span class="st">"fileio/txt.Witec/Witec-Map-x.dat"</span>,</span>
<span>  points.per.line <span class="op">=</span> <span class="fl">5</span>, lines.per.image <span class="op">=</span> <span class="fl">5</span>, type <span class="op">=</span> <span class="st">"map"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Note that the Y data files also contain wavelength information, but (at least Witec Project 2.10) this information is always wavelength in nm, not Raman shift in wavenumbers: this is provided by the X data file only.</p>
<p>Another option is Witec’s txt table ASCII export (Export <span class="math inline">\(\rightarrow\)</span> Table), which produces ASCII files with each row corresponding to one wavelength.
The first column contains the wavelength axis; all further columns contain one spectrum each column.
Such files can be read with <code class="sourceCode r"><span class="fu">read.txt.Witec</span>()</code>:</p>
<p><code class="sourceCode r"><span class="fu">read.txt.Witec</span>()</code> determines the number of wavelengths automatically.</p>
<p>Note that there are several Export Filter Options.
It is possible to determine which units should be used for the export (see XUnits tab).
It is also possible to export two additional header lines containing information about spectra labels and units.
Therefore parameters <code class="sourceCode r">hdr.label</code> and <code class="sourceCode r">hdr.units</code> have to be set properly.
Otherwise, either an error will be displayed like</p>
<p>or the one or two wavelengths will be skipped.</p>
<p>Depending on the used export options the header files should look like:</p>
<p>For imaging data set parameter <code class="sourceCode r">type</code> to “map”.
If the label header is exported, the spatial information can be extracted from this line.
Otherwise, at least one, <code class="sourceCode r">points.per.line</code> or <code class="sourceCode r">lines.per.image</code>, has to be given manually, if not, a warning will be shown.</p>
<p>For line scans and z-stacks use <code class="sourceCode r">type <span class="ot">=</span> <span class="st">"single"</span></code> because the provided information is looking the same as for time series, so no further information can be extracted from the header files.</p>
<p>Since version 4 WITec Project offers the Graph ASCII export (Export <span class="math inline">\(\rightarrow\)</span> Graph ASCII), which produces three ASCII files, named Header containing additional information, X-Axis containing the wavelength values and Y-Axis containing the spectra one spectrum in each column.
Data exported in this way can be read with <code class="sourceCode r"><span class="fu">read.txt.Witec.Graph</span>()</code>:</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Witec.html">read.txt.Witec.Graph</a></span><span class="op">(</span><span class="st">"fileio/txt.Witec/Witec-timeseries (Header).txt"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Witec.html">read.txt.Witec.Graph</a></span><span class="op">(</span><span class="st">"fileio/txt.Witec/Witec-Map (Header).txt"</span>, type <span class="op">=</span> <span class="st">"map"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/DEPRECATED-read.txt.Witec.html">read.txt.Witec.Graph</a></span><span class="op">(</span><span class="st">"fileio/txt.Witec/nofilename (Header).txt"</span>, encoding <span class="op">=</span> <span class="st">"latin1"</span><span class="op">)</span></span></code></pre></div>
<p>This function reads the spectra files automatically, if they are appropriately named and extracts additional information of the header file.
As for the other Witec functions, it is possible to read image data by selecting <code class="sourceCode r">type <span class="ot">=</span> <span class="st">"map"</span></code>.
Line scans and z-stacks should be read as single spectra.</p>
</div>
</div>
<div class="section level2" number="8">
<h2 id="sec:writing-Import">
<span class="header-section-number">8</span> Writing Your Own Import Function<a class="anchor" aria-label="anchor" href="#sec:writing-Import"></a>
</h2>
<p>This section gives examples of how to write import functions.
The first example implements an import filter for an ASCII file format, basically from scratch.
The second example shows how to implement
more details for an already existing import filter.</p>
<div class="section level3" number="8.1">
<h3 id="sec:read-txt-PerkinElmer">
<span class="header-section-number">8.1</span> A new ASCII Import Function: <code>read.txt.PerkinElmer</code><a class="anchor" aria-label="anchor" href="#sec:read-txt-PerkinElmer"></a>
</h3>
<p>
</p>
<p>The raw spectra of the <code class="sourceCode r">flu</code> data set (see also the <a href="#list-of-vignettes">separate vignette</a>) are in PerkinElmer’s ASCII file format, one spectrum per file.</p>
<p>We need a function that automatically reads all files specified by a pattern, such as <code class="sourceCode r"><span class="sc">*</span>.txt</code>.
To gain speed, users should preallocate the spectra matrix after the first reading of the file.</p>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<p>A short examination of the files (<code class="sourceCode r">flu<span class="sc">*</span>.txt</code> in directory <code>txt.PerkinElmer</code>) reveals that the actual spectrum starts at line 55, after a line containing <code>\#DATA</code>.
For now, no other information about the files is to be extracted.
It is thus easier to skip the first 54 lines than searching for the line after <code>\#DATA</code>.</p>
<p>A fully-featured import function should support:</p>
<ul>
<li>Reading multiple files by giving a pattern</li>
<li>hand further arguments to <code class="sourceCode r"><span class="fu">scan</span>()</code>.
This comes handy in case the function is used later to import other data types.</li>
<li>Also, skipping 54 lines would be a weird default, so we instead require it to be given
explicitly.</li>
<li>The same applies to the axis labels: they should default to reasonable settings for
fluorescence spectra, but it should be possible to change them.</li>
<li>The usual log entry arguments should be supplied.</li>
<li>A sanity check should be implemented: stop with an error if a file does not have the same
wavelength axis as the others.</li>
<li>If no file can be found, an empty <code class="sourceCode r">hyperSpec</code> object is a consistent result: There is no need to stop with an error, but it is polite to issue an additional warning.</li>
<li>Finally, package <strong>hyperSpec</strong> does some optional common post-processing for all imported files such as attaching the filename (or connection description) to the <code class="sourceCode r">hyperSpec</code> object (column <code class="sourceCode r">filename</code>) and deleting empty spectra.
These options can be globally switched on or off by options.</li>
</ul>
<!-- \VerbatimInput[frame=single, label={read.txt.PerkinElmer.R}, formatcom=\footnotesize]{read.txt.PerkinElmer.R} --><pre><code><span><span class="co"># The contents of "read.txt.PerkinElmer.R"</span></span>
<span></span>
<span><span class="va">read.txt.PerkinElmer</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">files</span> <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"filenames needed"</span><span class="op">)</span>, <span class="va">...</span>, <span class="va">label</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co">##  set default labels</span></span>
<span>  <span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">modifyList</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      .wavelength <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">lambda</span> <span class="op">/</span> <span class="va">nm</span><span class="op">)</span>,</span>
<span>      spc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="va">I</span><span class="op">[</span><span class="va">fl</span><span class="op">]</span> <span class="op">/</span> <span class="st">"a.u."</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    <span class="va">label</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">files</span><span class="op">)</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">"No files found."</span><span class="op">)</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="co">## read the first file</span></span>
<span>  <span class="va">buffer</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/scan.html" class="external-link">scan</a></span><span class="op">(</span><span class="va">files</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">...</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## first column gives the wavelength vector</span></span>
<span>  <span class="va">wavelength</span> <span class="op">&lt;-</span> <span class="va">buffer</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span></span>
<span></span>
<span>  <span class="co">## preallocate the spectra matrix:</span></span>
<span>  <span class="co">##  one row per file x as many columns as the first file has</span></span>
<span>  <span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span>ncol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">buffer</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">files</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## the first file's data goes into the first row</span></span>
<span>  <span class="va">spc</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span> <span class="op">&lt;-</span> <span class="va">buffer</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span></span>
<span>  <span class="co">## now read the remaining files</span></span>
<span>  <span class="kw">for</span> <span class="op">(</span><span class="va">f</span> <span class="kw">in</span> <span class="fu"><a href="../reference/seq.html">seq</a></span><span class="op">(</span>along <span class="op">=</span> <span class="va">files</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">buffer</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/scan.html" class="external-link">scan</a></span><span class="op">(</span><span class="va">files</span><span class="op">[</span><span class="va">f</span><span class="op">]</span>, <span class="va">...</span><span class="op">)</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co">## check whether they have the same wavelength axis</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="../reference/Comparison.html">all.equal</a></span><span class="op">(</span><span class="va">buffer</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>, <span class="va">wavelength</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">files</span><span class="op">[</span><span class="va">f</span><span class="op">]</span>, <span class="st">"has different wavelength axis."</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="va">spc</span><span class="op">[</span><span class="va">f</span>, <span class="op">]</span> <span class="op">&lt;-</span> <span class="va">buffer</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="co">## make the hyperSpec object</span></span>
<span>  <span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/initialize.html">new</a></span><span class="op">(</span><span class="st">"hyperSpec"</span>, wavelength <span class="op">=</span> <span class="va">wavelength</span>, spc <span class="op">=</span> <span class="va">spc</span>, label <span class="op">=</span> <span class="va">label</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## consistent file import behaviour across import functions</span></span>
<span>  <span class="fu">hyperSpec</span><span class="fu">::</span><span class="fu"><a href="../reference/dot-spc_io_postprocess_optional.html">.spc_io_postprocess_optional</a></span><span class="op">(</span><span class="va">spc</span>, <span class="va">files</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>imports the spectra.
Note how the labels are set.
The label with the special name <code class="sourceCode r">.wavelength</code> corresponds to the wavelength axis, all data columns should have a label with the same name.
The spectra are always in a data column called <code class="sourceCode r">spc</code>.</p>
<p>Thus,</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/source.html" class="external-link">source</a></span><span class="op">(</span><span class="st">"read.txt.PerkinElmer.R"</span><span class="op">)</span></span>
<span><span class="fu">read.txt.PerkinElmer</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.glob.html" class="external-link">Sys.glob</a></span><span class="op">(</span><span class="st">"fileio/txt.PerkinElmer/flu?.txt"</span><span class="op">)</span>, skip <span class="op">=</span> <span class="fl">54</span><span class="op">)</span></span></code></pre></div>
<p>imports the spectra.</p>
<p>The <strong>hyperSpec</strong> package does not export this function: while it is already useful for importing files, it is not general enough to work immediately with new data, e.g., completely ignoring the file header.
Thus information like the excitation wavelength is lost.</p>
</div>
<div class="section level3" number="8.2">
<h3 id="deriving-a-more-specific-function-read-envi-nicolet">
<span class="header-section-number">8.2</span> Deriving a More Specific Function: <code class="sourceCode r"><span class="fu">read.ENVI.Nicolet</span>()</code><a class="anchor" aria-label="anchor" href="#deriving-a-more-specific-function-read-envi-nicolet"></a>
</h3>
<p>
</p>
<p>The function <code class="sourceCode r"><span class="fu">read.ENVI.Nicolet</span>()</code> is an excellent example of a more specific import filter derived from a generic filter for the particular file type.
Nicolet FT-IR Imaging software saves some non-standard keywords in the header file of the ENVI data.
This information can be used to reconstruct the <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> axes of the images.
The units of the spectra are saved as well.</p>
<p>Function <code class="sourceCode r"><span class="fu">read.ENVI.Nicolet</span>()</code> thus first adjusts the parameters for <code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>.
Then <code class="sourceCode r"><span class="fu">read.ENVI</span>()</code> does the main work of importing the file.
The resulting <code class="sourceCode r">hyperSpec</code> object is post-processed according to the special header entries.</p>
<p>For using the function, see section <a href="#sec:read-ENVI-Nicolet">7.3</a><!--(p. \pageref{sec:read-ENVI-Nicolet})-->.</p>
<!-- \VerbatimInput[frame=single, label={read.ENVI.Nicolet.R}, formatcom=\footnotesize]{read.ENVI.Nicolet.R} -->
<pre><code><span><span class="co"># The contents of "read.ENVI.Nicolet.R"</span></span>
<span></span>
<span><span class="va">read.ENVI.Nicolet</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  <span class="va">file</span> <span class="op">=</span> <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"read.ENVI: file name needed"</span><span class="op">)</span>,</span>
<span>  <span class="va">headerfile</span> <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">header</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span>, <span class="co"># goes to read.ENVI</span></span>
<span>  <span class="va">x</span> <span class="op">=</span> <span class="cn">NA</span>, <span class="va">y</span> <span class="op">=</span> <span class="cn">NA</span>, <span class="co"># NA means: use the specifications from the header file if possible</span></span>
<span>  <span class="va">nicolet.correction</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span></span>
<span></span>
<span>  <span class="co">## the additional keywords to interprete must be read from headerfile</span></span>
<span>  <span class="va">headerfile</span> <span class="op">&lt;-</span> <span class="fu">.find.ENVI.header</span><span class="op">(</span><span class="va">file</span>, <span class="va">headerfile</span><span class="op">)</span></span>
<span>  <span class="va">keys</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">headerfile</span><span class="op">)</span></span>
<span>  <span class="va">keys</span> <span class="op">&lt;-</span> <span class="fu">.read.ENVI.split.header</span><span class="op">(</span><span class="va">keys</span><span class="op">)</span></span>
<span>  <span class="va">keys</span> <span class="op">&lt;-</span> <span class="va">keys</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"description"</span>, <span class="st">"z plot titles"</span>, <span class="st">"pixel size"</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span>  <span class="va">header</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">modifyList</a></span><span class="op">(</span><span class="va">keys</span>, <span class="va">header</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## most work is done by read.ENVI</span></span>
<span>  <span class="va">spc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/DEPRECATED-read.ENVI.html">read.ENVI</a></span><span class="op">(</span></span>
<span>    file <span class="op">=</span> <span class="va">file</span>, headerfile <span class="op">=</span> <span class="va">headerfile</span>, header <span class="op">=</span> <span class="va">header</span>, <span class="va">...</span>,</span>
<span>    x <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span> <span class="kw">else</span> <span class="va">x</span>,</span>
<span>    y <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span> <span class="kw">else</span> <span class="va">y</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="co">### From here on processing the additional keywords in Nicolet's ENVI header ****</span></span>
<span></span>
<span>  <span class="co">## z plot titles ----------------------------------------------------------------</span></span>
<span>  <span class="co">## default labels</span></span>
<span>  <span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu">`/`</span><span class="op">(</span><span class="va">x</span>, <span class="va">micro</span> <span class="op">*</span> <span class="va">m</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu">`/`</span><span class="op">(</span><span class="va">y</span>, <span class="va">micro</span> <span class="op">*</span> <span class="va">m</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    spc <span class="op">=</span> <span class="st">"I / a.u."</span>,</span>
<span>    .wavelength <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu">tilde</span><span class="op">(</span><span class="va">nu</span><span class="op">)</span> <span class="op">/</span> <span class="va">cm</span><span class="op">^</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span>  <span class="co">## get labels from header information</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">header</span><span class="op">$</span><span class="st">"z plot titles"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">pattern</span> <span class="op">&lt;-</span> <span class="st">"^[[:blank:]]*([[:print:]^,]+)[[:blank:]]*,.*$"</span></span>
<span>    <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="va">pattern</span>, <span class="st">"\\1"</span>, <span class="va">header</span><span class="op">$</span><span class="st">"z plot titles"</span><span class="op">)</span></span>
<span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Wavenumbers (cm-1)"</span>, <span class="va">tmp</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">label</span><span class="op">$</span><span class="va">.wavelength</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expression.html" class="external-link">expression</a></span><span class="op">(</span><span class="fu">tilde</span><span class="op">(</span><span class="va">nu</span><span class="op">)</span> <span class="op">/</span> <span class="va">cm</span><span class="op">^</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="va">label</span><span class="op">$</span><span class="va">.wavelength</span> <span class="op">&lt;-</span> <span class="va">tmp</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="va">pattern</span> <span class="op">&lt;-</span> <span class="st">"^[[:blank:]]*[[:print:]^,]+,[[:blank:]]*([[:print:]^,]+).*$"</span></span>
<span>    <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="va">pattern</span>, <span class="st">"\\1"</span>, <span class="va">header</span><span class="op">$</span><span class="st">"z plot titles"</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"Unknown"</span>, <span class="va">tmp</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">label</span><span class="op">$</span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="st">"I / a.u."</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="va">label</span><span class="op">$</span><span class="va">spc</span> <span class="op">&lt;-</span> <span class="va">tmp</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="co">## modify the labels accordingly</span></span>
<span>  <span class="va">spc</span><span class="op">@</span><span class="va">label</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/modifyList.html" class="external-link">modifyList</a></span><span class="op">(</span><span class="va">label</span>, <span class="va">spc</span><span class="op">@</span><span class="va">label</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## set up spatial coordinates --------------------------------------------------</span></span>
<span>  <span class="co">## look for x and y in the header only if x and y are NULL</span></span>
<span>  <span class="co">## they are in `description` and `pixel size`</span></span>
<span></span>
<span>  <span class="co">## set up regular expressions to extract the values</span></span>
<span>  <span class="va">p.description</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span>
<span>    <span class="st">"^Spectrum position [[:digit:]]+ of [[:digit:]]+ positions,"</span>,</span>
<span>    <span class="st">"X = ([[:digit:].-]+), Y = ([[:digit:].-]+)$"</span></span>
<span>  <span class="op">)</span></span>
<span>  <span class="va">p.pixel.size</span> <span class="op">&lt;-</span> <span class="st">"^[[:blank:]]*([[:digit:].-]+),[[:blank:]]*([[:digit:].-]+).*$"</span></span>
<span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span> <span class="op">&amp;&amp;</span></span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">header</span><span class="op">$</span><span class="va">description</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="va">p.description</span>, <span class="va">header</span><span class="op">$</span><span class="va">description</span><span class="op">)</span> <span class="op">&amp;&amp;</span></span>
<span>    <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html" class="external-link">is.null</a></span><span class="op">(</span><span class="va">header</span><span class="op">$</span><span class="st">"pixel size"</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="va">p.pixel.size</span>, <span class="va">header</span><span class="op">$</span><span class="st">"pixel size"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="va">p.description</span>, <span class="st">"\\1"</span>, <span class="va">header</span><span class="op">$</span><span class="va">description</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="va">p.description</span>, <span class="st">"\\2"</span>, <span class="va">header</span><span class="op">$</span><span class="va">description</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>    <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="va">p.pixel.size</span>, <span class="st">"\\1"</span>, <span class="va">header</span><span class="op">$</span><span class="st">"pixel size"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">y</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="va">p.pixel.size</span>, <span class="st">"\\2"</span>, <span class="va">header</span><span class="op">$</span><span class="st">"pixel size"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>    <span class="co">## it seems that the step size is given in mm while the offset is in micron</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">nicolet.correction</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">*</span> <span class="fl">1000</span></span>
<span>      <span class="va">y</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">y</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">*</span> <span class="fl">1000</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="co">## now calculate and set the x and y coordinates</span></span>
<span>    <span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">*</span> <span class="va">spc</span><span class="op">$</span><span class="va">x</span> <span class="op">+</span> <span class="va">x</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">spc</span><span class="op">@</span><span class="va">data</span><span class="op">$</span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span></span>
<span>    <span class="op">}</span></span>
<span></span>
<span>    <span class="va">y</span> <span class="op">&lt;-</span> <span class="va">y</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">*</span> <span class="va">spc</span><span class="op">$</span><span class="va">y</span> <span class="op">+</span> <span class="va">y</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">spc</span><span class="op">@</span><span class="va">data</span><span class="op">$</span><span class="va">y</span> <span class="op">&lt;-</span> <span class="va">y</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span></span>
<span></span>
<span>  <span class="va">spc</span></span>
<span><span class="op">}</span></span></code></pre>
</div>
<div class="section level3" number="8.3">
<h3 id="deriving-import-filters-for-spc-files">
<span class="header-section-number">8.3</span> Deriving Import Filters for <code>spc</code> Files<a class="anchor" aria-label="anchor" href="#deriving-import-filters-for-spc-files"></a>
</h3>
<p>Please note that future changes inside the <code class="sourceCode r"><span class="fu">read.spc</span>()</code> function are likely to occur.
However, if you just post-process the <code class="sourceCode r">hyperSpec</code> object returned by <code class="sourceCode r"><span class="fu">read.spc</span>()</code>, you should be fine.</p>
</div>
</div>
<div class="section level2" number="9">
<h2 id="appendix-a">
<span class="header-section-number">9</span> <strong>Appendix A:</strong> File Import Functions<a class="anchor" aria-label="anchor" href="#appendix-a"></a>
</h2>
<!-- ======================================================================= -->
<!-- ======================================================================= -->
<div class="section level3" number="9.1">
<h3 id="sec:format">
<span class="header-section-number">9.1</span> File Import Functions by Format<a class="anchor" aria-label="anchor" href="#sec:format"></a>
</h3>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Type
</th>
<th style="text-align:left;">
Format
</th>
<th style="text-align:left;">
Manufacturer
</th>
<th style="text-align:left;">
Spectroscopy
</th>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Link
</th>
<th style="text-align:left;">
Notes
</th>
</tr></thead>
<tbody>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Andor Solis ASCII</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Andor Solis ASCII
</td>
<td style="text-align:left;">
Andor
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.asc.Andor</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-asc-Andor">7.8</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>array</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
array
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:new">2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="4">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>ASCII long</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.long</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:ascii">5</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.long</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:KaiserASCII">7.5.1</a>
</td>
<td style="text-align:left;">
<strong>Not</strong> recommended, see discussion
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Perkin Elmer
</td>
<td style="text-align:left;">
Fluorescence
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.PerkinElmer</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-PerkinElmer">8.1</a>
</td>
<td style="text-align:left;">
Reads multiple files, needs to be sourced.
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>ASCII long (zipped)</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long (zipped)
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.zip.Renishaw</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="4">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>ASCII wide</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.wide</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:ascii">5</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometers
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba.xy</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometer maps
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba.t</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometer time series
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>ASCII wide transposed</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide transposed
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Witec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Export Table
</td>
</tr>
<tr grouplength="3">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>ENVI</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI">6.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
Bruker
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Bruker">7.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
Nicolet
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI.Nicolet</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Nicolet">7.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>hol</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
hol
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:Kaiser">7.5</a>
</td>
<td style="text-align:left;">
via Matlab
</td>
</tr>
<tr grouplength="4">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>JCAMP-DX</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
Shimadzu
</td>
<td style="text-align:left;">
GCxGC-MS
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Shimadzu</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
PerkinElmer
</td>
<td style="text-align:left;">
Infrared
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
import for subset of the JCAMP-DX standard
</td>
</tr>
<tr grouplength="3">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Matlab</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r">R.matlab<span class="sc">::</span><span class="fu">readMat</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:readMat">6.1</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Cytospec
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.mat.Cytospec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-mat-Cytospec">6.1.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.mat.Witec</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>matrix</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
matrix
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:new">2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Opus</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Opus
</td>
<td style="text-align:left;">
Bruker
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Bruker">7.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>other</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:left;">
Shimadzu
</td>
<td style="text-align:left;">
GC,GC-MS
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
import for subset of the JCAMP-DX standard
</td>
</tr>
<tr grouplength="8">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>spc</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman Map
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.KaiserMap</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc-KaiserMap">7.5.2</a>
</td>
<td style="text-align:left;">
Reads multiple files
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.Kaiser</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Efficiently reads multiple files
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.KaiserLowHigh</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Reads multiple pairs of low and high wavenumber region spcs
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
<strong>Not</strong> recommended, see discussion of ASCII files.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
spc export not available for images
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Horiba
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>spe</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spe
</td>
<td style="text-align:left;">
Princeton Instruments
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spe</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spe"><strong>??</strong></a>
</td>
<td style="text-align:left;">
WinSpec
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Witec ASCII</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Witec ASCII
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.dat.Witec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Save ASCII X, Save ASCII Y
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Witec Graph ASCII</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Witec Graph ASCII
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Witec.Graph</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Export Table in 3 separate files (Header, X-Axis, Y-Axis)
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3" number="9.2">
<h3 id="sec:manufacturer">
<span class="header-section-number">9.2</span> File Import Functions by Manufacturer<a class="anchor" aria-label="anchor" href="#sec:manufacturer"></a>
</h3>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Type
</th>
<th style="text-align:left;">
Format
</th>
<th style="text-align:left;">
Manufacturer
</th>
<th style="text-align:left;">
Spectroscopy
</th>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Link
</th>
<th style="text-align:left;">
Notes
</th>
</tr></thead>
<tbody>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Andor</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Andor Solis ASCII
</td>
<td style="text-align:left;">
Andor
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.asc.Andor</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-asc-Andor">7.8</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="2">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Bruker</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
Bruker
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Bruker">7.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Opus
</td>
<td style="text-align:left;">
Bruker
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Bruker">7.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Cytospec</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Cytospec
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.mat.Cytospec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-mat-Cytospec">6.1.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Horiba</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Horiba
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="3">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Horiba Jobin Yvon</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometers
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba.xy</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometer maps
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba.t</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometer time series
</td>
</tr>
<tr grouplength="6">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Kaiser</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.long</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:KaiserASCII">7.5.1</a>
</td>
<td style="text-align:left;">
<strong>Not</strong> recommended, see discussion
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
hol
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:Kaiser">7.5</a>
</td>
<td style="text-align:left;">
via Matlab
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman Map
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.KaiserMap</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc-KaiserMap">7.5.2</a>
</td>
<td style="text-align:left;">
Reads multiple files
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.Kaiser</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Efficiently reads multiple files
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.KaiserLowHigh</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Reads multiple pairs of low and high wavenumber region spcs
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Matlab</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r">R.matlab<span class="sc">::</span><span class="fu">readMat</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:readMat">6.1</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Nicolet</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
Nicolet
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI.Nicolet</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Nicolet">7.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Perkin Elmer</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Perkin Elmer
</td>
<td style="text-align:left;">
Fluorescence
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.PerkinElmer</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-PerkinElmer">8.1</a>
</td>
<td style="text-align:left;">
Reads multiple files, needs to be sourced.
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>PerkinElmer</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
PerkinElmer
</td>
<td style="text-align:left;">
Infrared
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
import for subset of the JCAMP-DX standard
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Princeton Instruments</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spe
</td>
<td style="text-align:left;">
Princeton Instruments
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spe</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spe"><strong>??</strong></a>
</td>
<td style="text-align:left;">
WinSpec
</td>
</tr>
<tr grouplength="4">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Renishaw</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long (zipped)
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.zip.Renishaw</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
<strong>Not</strong> recommended, see discussion of ASCII files.
</td>
</tr>
<tr grouplength="2">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Shimadzu</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:left;">
Shimadzu
</td>
<td style="text-align:left;">
GC,GC-MS
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
import for subset of the JCAMP-DX standard
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
Shimadzu
</td>
<td style="text-align:left;">
GCxGC-MS
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Shimadzu</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="5">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Witec</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Witec ASCII
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.dat.Witec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Save ASCII X, Save ASCII Y
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide transposed
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Witec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Export Table
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Witec Graph ASCII
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Witec.Graph</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Export Table in 3 separate files (Header, X-Axis, Y-Axis)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.mat.Witec</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
spc export not available for images
</td>
</tr>
<tr>
<td style="text-align:left;">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.long</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:ascii">5</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.wide</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:ascii">5</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI">6.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
array
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:new">2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
matrix
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:new">2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3" number="9.3">
<h3 id="sec:spectroscopy">
<span class="header-section-number">9.3</span> File Import Functions by Spectroscopy<a class="anchor" aria-label="anchor" href="#sec:spectroscopy"></a>
</h3>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Type
</th>
<th style="text-align:left;">
Format
</th>
<th style="text-align:left;">
Manufacturer
</th>
<th style="text-align:left;">
Spectroscopy
</th>
<th style="text-align:left;">
Function
</th>
<th style="text-align:left;">
Link
</th>
<th style="text-align:left;">
Notes
</th>
</tr></thead>
<tbody>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Fluorescence</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Perkin Elmer
</td>
<td style="text-align:left;">
Fluorescence
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.PerkinElmer</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-PerkinElmer">8.1</a>
</td>
<td style="text-align:left;">
Reads multiple files, needs to be sourced.
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>GC,GC-MS</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
other
</td>
<td style="text-align:left;">
Shimadzu
</td>
<td style="text-align:left;">
GC,GC-MS
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
import for subset of the JCAMP-DX standard
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>GCxGC-MS</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
Shimadzu
</td>
<td style="text-align:left;">
GCxGC-MS
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Shimadzu</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Infrared</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
PerkinElmer
</td>
<td style="text-align:left;">
Infrared
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
import for subset of the JCAMP-DX standard
</td>
</tr>
<tr grouplength="3">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Infrared Imaging</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
Bruker
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Bruker">7.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Opus
</td>
<td style="text-align:left;">
Bruker
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Bruker">7.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
Nicolet
</td>
<td style="text-align:left;">
Infrared Imaging
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI.Nicolet</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI-Nicolet">7.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr grouplength="20">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Raman</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometers
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba.xy</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometer maps
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
Horiba Jobin Yvon
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Horiba.t</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Horiba">7.7</a>
</td>
<td style="text-align:left;">
e.g., LabRAM spectrometer time series
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Renishaw</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long (zipped)
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.zip.Renishaw</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.long</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:KaiserASCII">7.5.1</a>
</td>
<td style="text-align:left;">
<strong>Not</strong> recommended, see discussion
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Witec ASCII
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.dat.Witec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Save ASCII X, Save ASCII Y
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
ASCII wide transposed
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Witec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Export Table
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Witec Graph ASCII
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.Witec.Graph</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Witec">7.9</a>
</td>
<td style="text-align:left;">
Export Table in 3 separate files (Header, X-Axis, Y-Axis)
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
ASCII
</td>
<td style="text-align:left;">
Andor Solis ASCII
</td>
<td style="text-align:left;">
Andor
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.asc.Andor</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-asc-Andor">7.8</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.mat.Witec</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
hol
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:Kaiser">7.5</a>
</td>
<td style="text-align:left;">
via Matlab
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.Kaiser</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Efficiently reads multiple files
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.KaiserLowHigh</span>()</code>
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
Reads multiple pairs of low and high wavenumber region spcs
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Renishaw
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-txt-Renishaw">7.6</a>
</td>
<td style="text-align:left;">
<strong>Not</strong> recommended, see discussion of ASCII files.
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Witec
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
spc export not available for images
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Horiba
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spe
</td>
<td style="text-align:left;">
Princeton Instruments
</td>
<td style="text-align:left;">
Raman
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spe</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spe"><strong>??</strong></a>
</td>
<td style="text-align:left;">
WinSpec
</td>
</tr>
<tr grouplength="1">
<td colspan="7" style="border-bottom: 1px solid;">
<strong>Raman Map</strong>
</td>
</tr>
<tr>
<td style="text-align:left;padding-left: 2em;" indentlevel="1">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
Kaiser
</td>
<td style="text-align:left;">
Raman Map
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc.KaiserMap</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc-KaiserMap">7.5.2</a>
</td>
<td style="text-align:left;">
Reads multiple files
</td>
</tr>
<tr>
<td style="text-align:left;">
ASCII
</td>
<td style="text-align:left;">
ASCII long
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.long</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:ascii">5</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
ASCII
</td>
<td style="text-align:left;">
ASCII wide
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.txt.wide</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:ascii">5</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
ASCII
</td>
<td style="text-align:left;">
JCAMP-DX
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.jdx</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:jcamp-dx"><strong>??</strong></a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r">R.matlab<span class="sc">::</span><span class="fu">readMat</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:readMat">6.1</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
Matlab
</td>
<td style="text-align:left;">
Cytospec
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.mat.Cytospec</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-mat-Cytospec">6.1.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
ENVI
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.ENVI</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-ENVI">6.2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
spc
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<code class="sourceCode r"><span class="fu">read.spc</span>()</code>
</td>
<td style="text-align:left;">
<a href="#sec:read-spc">6.3</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
array
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:new">2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
binary
</td>
<td style="text-align:left;">
matrix
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
</td>
<td style="text-align:left;">
<a href="#sec:new">2</a>
</td>
<td style="text-align:left;">
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sessioninfo</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/sessioninfo/reference/session_info.html" class="external-link">session_info</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB; font-weight: bold;">─ Session info ───────────────────────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt;  <span style="color: #555555; font-style: italic;">setting </span> <span style="color: #555555; font-style: italic;">value</span></span></span>
<span><span class="co">#&gt;  version  R version 4.3.0 (2023-04-21)</span></span>
<span><span class="co">#&gt;  os       Ubuntu 22.04.2 LTS</span></span>
<span><span class="co">#&gt;  system   x86_64, linux-gnu</span></span>
<span><span class="co">#&gt;  ui       X11</span></span>
<span><span class="co">#&gt;  language en</span></span>
<span><span class="co">#&gt;  collate  C.UTF-8</span></span>
<span><span class="co">#&gt;  ctype    C.UTF-8</span></span>
<span><span class="co">#&gt;  tz       UTC</span></span>
<span><span class="co">#&gt;  date     2023-04-23</span></span>
<span><span class="co">#&gt;  pandoc   2.19.2 @ /usr/bin/ (via rmarkdown)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB; font-weight: bold;">─ Packages ───────────────────────────────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt;  <span style="color: #555555; font-style: italic;">package       </span> <span style="color: #555555; font-style: italic;">*</span> <span style="color: #555555; font-style: italic;">version     </span> <span style="color: #555555; font-style: italic;">date (UTC)</span> <span style="color: #555555; font-style: italic;">lib</span> <span style="color: #555555; font-style: italic;">source</span></span></span>
<span><span class="co">#&gt;  bookdown         0.33         <span style="color: #555555;">2023-03-06</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  brio             1.1.3        <span style="color: #555555;">2021-11-30</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  bslib            0.4.2        <span style="color: #555555;">2022-12-16</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  cachem           1.0.7        <span style="color: #555555;">2023-02-24</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  cli              3.6.1        <span style="color: #555555;">2023-03-23</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  colorspace       2.1-0        <span style="color: #555555;">2023-01-23</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  deldir           1.0-6        <span style="color: #555555;">2021-10-23</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  digest           0.6.31       <span style="color: #555555;">2022-12-11</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  dplyr            1.1.2        <span style="color: #555555;">2023-04-20</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  evaluate         0.20         <span style="color: #555555;">2023-01-17</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  fansi            1.0.4        <span style="color: #555555;">2023-01-22</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  fastmap          1.1.1        <span style="color: #555555;">2023-02-24</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  generics         0.1.3        <span style="color: #555555;">2022-07-05</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  ggplot2        * 3.4.2        <span style="color: #555555;">2023-04-03</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  glue             1.6.2        <span style="color: #555555;">2022-02-24</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  gtable           0.3.3        <span style="color: #555555;">2023-03-21</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  highr            0.10         <span style="color: #555555;">2022-12-22</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  htmltools        0.5.5        <span style="color: #555555;">2023-03-23</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  httr             1.4.5        <span style="color: #555555;">2023-02-24</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  hyperSpec      * <span style="color: #BB00BB; font-weight: bold;">0.200.0.9000</span> <span style="color: #555555;">2023-04-23</span> <span style="color: #555555;">[1]</span> <span style="color: #BB00BB; font-weight: bold;">local</span></span></span>
<span><span class="co">#&gt;  hySpc.testthat   0.2.1        <span style="color: #555555;">2020-06-24</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  interp           1.1-4        <span style="color: #555555;">2023-03-31</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  jpeg             0.1-10       <span style="color: #555555;">2022-11-29</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  jquerylib        0.1.4        <span style="color: #555555;">2021-04-26</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  jsonlite         1.8.4        <span style="color: #555555;">2022-12-06</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  kableExtra       1.3.4        <span style="color: #555555;">2021-02-20</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  knitr            1.42         <span style="color: #555555;">2023-01-25</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  lattice        * 0.21-8       <span style="color: #555555;">2023-04-05</span> <span style="color: #555555;">[4]</span> <span style="color: #555555;">CRAN (R 4.3.0)</span></span></span>
<span><span class="co">#&gt;  latticeExtra     0.6-30       <span style="color: #555555;">2022-07-04</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  lazyeval         0.2.2        <span style="color: #555555;">2019-03-15</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  lifecycle        1.0.3        <span style="color: #555555;">2022-10-07</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  magrittr         2.0.3        <span style="color: #555555;">2022-03-30</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  munsell          0.5.0        <span style="color: #555555;">2018-06-12</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  pillar           1.9.0        <span style="color: #555555;">2023-03-22</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  pkgconfig        2.0.3        <span style="color: #555555;">2019-09-22</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  png              0.1-8        <span style="color: #555555;">2022-11-29</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  purrr            1.0.1        <span style="color: #555555;">2023-01-10</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  R.cache          0.16.0       <span style="color: #555555;">2022-07-21</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  R.matlab       * 3.7.0        <span style="color: #555555;">2022-08-25</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  R.methodsS3      1.8.2        <span style="color: #555555;">2022-06-13</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  R.oo             1.25.0       <span style="color: #555555;">2022-06-12</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  R.utils          2.12.2       <span style="color: #555555;">2022-11-11</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  R6               2.5.1        <span style="color: #555555;">2021-08-19</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  RColorBrewer     1.1-3        <span style="color: #555555;">2022-04-03</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  Rcpp             1.0.10       <span style="color: #555555;">2023-01-22</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  rlang            1.1.0        <span style="color: #555555;">2023-03-14</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  rmarkdown        2.21         <span style="color: #555555;">2023-03-26</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  rstudioapi       0.14         <span style="color: #555555;">2022-08-22</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  rvest            1.0.3        <span style="color: #555555;">2022-08-19</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  sass             0.4.5        <span style="color: #555555;">2023-01-24</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  scales           1.2.1        <span style="color: #555555;">2022-08-20</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  sessioninfo      1.2.2        <span style="color: #555555;">2021-12-06</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  stringi          1.7.12       <span style="color: #555555;">2023-01-11</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  stringr          1.5.0        <span style="color: #555555;">2022-12-02</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  styler           1.9.1        <span style="color: #555555;">2023-03-04</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  svglite          2.1.1        <span style="color: #555555;">2023-01-10</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  systemfonts      1.0.4        <span style="color: #555555;">2022-02-11</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  testthat         3.1.7        <span style="color: #555555;">2023-03-12</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  tibble           3.2.1        <span style="color: #555555;">2023-03-20</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  tidyselect       1.2.0        <span style="color: #555555;">2022-10-10</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  utf8             1.2.3        <span style="color: #555555;">2023-01-31</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  vctrs            0.6.2        <span style="color: #555555;">2023-04-19</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  viridisLite      0.4.1        <span style="color: #555555;">2022-08-22</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  webshot          0.5.4        <span style="color: #555555;">2022-09-26</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  withr            2.5.0        <span style="color: #555555;">2022-03-03</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  xfun             0.39         <span style="color: #555555;">2023-04-20</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  xml2             1.3.3        <span style="color: #555555;">2021-11-30</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt;  yaml             2.3.7        <span style="color: #555555;">2023-01-23</span> <span style="color: #555555;">[2]</span> <span style="color: #BB00BB; font-weight: bold;">RSPM</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #555555;"> [1] /tmp/RtmpOLwgrn/temp_libpath18fc1249df21</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;"> [2] /home/runner/work/_temp/Library</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;"> [3] /opt/R/4.3.0/lib/R/site-library</span></span></span>
<span><span class="co">#&gt; <span style="color: #555555;"> [4] /opt/R/4.3.0/lib/R/library</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB; font-weight: bold;">──────────────────────────────────────────────────────────────────────────────────────────────────</span></span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body">
<div id="ref-Galactic1997" class="csl-entry">
<div class="csl-left-margin">[1] </div>
<div class="csl-right-inline">Universal data format specification, <span>Galactic Industries Corp.</span>, 1997. <a href="http://ftirsearch.com/features/converters/gspc_udf.zip" class="external-link">http://ftirsearch.com/features/converters/gspc_udf.zip</a>.</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Claudia Beleites, <a href="https://orcid.org/0000-0002-9500-5167" class="external-link">Vilmantas Gegzna</a>, <a href="http://academic.depauw.edu/hanson_web/" class="external-link">Bryan A. Hanson</a>, Roman Kiselev, Erick Oduniyi, Valter Sergo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
